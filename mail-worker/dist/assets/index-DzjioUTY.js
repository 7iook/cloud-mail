import{e as r,o as s,af as oe,g as a,a7 as n,f as u,n as H,h as d,q as p,i as z,t as I,j as N,Q as R,A as x,J as Ge,am as Je,l as ye,p as E,a9 as Ke,a4 as We,ab as Qe,F as ge,ce as Xe,cf as Ye,G as X,r as ae,O as pe,bk as Ze,a6 as et,ag as le,b2 as tt,ad as at}from"./index-92mnh-J5.js";import{s as lt,E as st}from"./time-utils-8_bD8pZw.js";import{E as Se}from"./el-scrollbar-lgMH0mZQ.js";import{E as nt}from"./el-empty-CKfYwwv3.js";import"./el-tooltip-l0sNRNKZ.js";import{a as ot,E as it}from"./el-tag-Dck20whD.js";import{E as Ee}from"./el-checkbox-DpAuy9Ti.js";import{l as we}from"./index-UYGPyXpS.js";import{I as g}from"./iconify-VCTUy_UH.js";import{a as ct,E as rt}from"./el-skeleton-item-UTnpAQ6A.js";import{_ as ie}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{u as ut}from"./email-9j19DGMK.js";import{f as dt,b as ke}from"./day-DI1_lKIq.js";import{i as Ie,e as be,h as _e}from"./email-highlight-utils-Dx-h0BtP.js";import{a as ne}from"./clipboard-utils-Bf-9Um4a.js";import{E as ht}from"./el-overlay-jTA8uYnN.js";/* empty css                  */import{E as ft}from"./index-CG9L6tLM.js";/* empty css                       *//* empty css                 */import{E as mt}from"./index-B-u1Rqw0.js";const vt={style:{background:"var(--el-bg-color)"}},gt={class:"email-row"},pt={key:0,class:"pc-star"},wt={key:1},kt={class:"email-sender"},yt={key:0,class:"email-status"},St={key:1},Et={class:"name"},It={class:"phone-time"},bt={class:"email-text-skeleton"},_t={key:0,class:"user-info"},$t={class:"user"},xt={class:"account"},Ct={key:0,class:"del-status"},Bt={__name:"index",props:{rows:{type:Number,default:1},showStar:{type:Boolean,default:!0},accountShow:{type:Boolean,default:!1},showStatus:{type:Boolean,default:!1},showUserInfo:{type:Boolean,default:!1},type:{type:String,default:""}},setup(t){const _=t;return(b,m)=>{const B=Ee,S=ct,C=rt,M=ot;return s(!0),r(R,null,oe(t.rows,y=>(s(),r("div",vt,[a("div",gt,[n(B,{disabled:"",class:H(_.type==="all-email"?"all-email-checkbox":"checkbox")},null,8,["class"]),t.showStar?(s(),r("div",pt,[n(d(g),{style:{color:"var(--el-border-color)"},icon:"solar:star-line-duotone",width:"18",height:"18"})])):u("",!0),t.showStar?u("",!0):(s(),r("div",wt)),a("div",{class:H(["title",(t.accountShow,"title-column")])},[a("div",kt,[t.showStatus?(s(),r("div",yt)):(s(),r("div",St)),a("span",Et,[a("span",null,[n(C,{animated:""},{template:p(()=>[n(S,{variant:"text",class:"name-skeleton"})]),_:1})]),m[0]||(m[0]=a("span",null,null,-1))]),a("span",It,[n(C,{animated:""},{template:p(()=>[n(S,{variant:"text",style:{width:"50px",height:"1rem"}})]),_:1})])]),a("div",null,[a("div",bt,[n(C,{animated:""},{template:p(()=>[n(S,{variant:"text",class:"text-skeleton-one"}),n(S,{variant:"text",class:"text-skeleton-two"})]),_:1})]),t.showUserInfo?(s(),r("div",_t,[a("div",$t,[n(C,{animated:""},{template:p(()=>[n(S,{variant:"text",style:{width:"180px","margin-right":"15px",height:"1rem","margin-bottom":"4px"}})]),_:1})]),a("div",xt,[n(C,{animated:""},{template:p(()=>[n(S,{variant:"text",style:{width:"180px","margin-right":"15px",height:"1rem","margin-bottom":"4px"}})]),_:1})]),y.isDel?(s(),r("div",Ct,[n(M,{type:"danger",size:"small"},{default:p(()=>[z(I(b.$t("deleted")),1)]),_:1})])):u("",!0)])):u("",!0)])],2),a("div",{class:"email-right-skeleton",style:N(t.showUserInfo?"align-self: start;":"")},[n(C,{animated:""},{template:p(()=>[n(S,{variant:"text",style:{width:"50px","margin-right":"15px",height:"1rem"}})]),_:1})],4)])]))),256)}}},se=ie(Bt,[["__scopeId","data-v-2fc4854b"]]);function Lt(){const t=x(null),_=x(!1),b=x(null),m=x(!0);function B(l){m.value&&A(l)&&(t.value&&t.value.emailId===l.emailId||(t.value={emailId:l.emailId,subject:l.subject,name:l.name,sendEmail:l.sendEmail,recipient:l.recipient,content:l.content,text:l.text,createTime:l.createTime,status:l.status,attList:l.attList||[]}))}function S(l){m.value&&t.value&&l&&t.value.emailId===l.emailId&&(t.value=null)}function C(){if(m.value){if(_.value){y();return}t.value&&M(t.value)}}function M(l){if(!A(l)){console.warn("‚ö†Ô∏è [SpacePreview] Â∞ùËØïÈ¢ÑËßàÊó†ÊïàÈÇÆ‰ª∂ÂØπË±°");return}_.value&&b.value&&b.value.emailId===l.emailId||(b.value={emailId:l.emailId,subject:l.subject,name:l.name,sendEmail:l.sendEmail,recipient:l.recipient,content:l.content,text:l.text,createTime:l.createTime,status:l.status,attList:l.attList||[]},_.value=!0)}function y(){_.value=!1,b.value=null}function U(l){const v=l.target;if(!(v.tagName==="INPUT"||v.tagName==="TEXTAREA"||v.contentEditable==="true")){if(l.code==="Space"){l.preventDefault(),C();return}if(l.key==="Escape"&&_.value){l.preventDefault(),y();return}}}function D(l){_.value&&b.value&&l&&b.value.emailId!==l.emailId&&y()}function A(l){return l?l.emailId?!0:(console.warn("‚ö†Ô∏è [SpacePreview] ÈÇÆ‰ª∂ÂØπË±°Áº∫Â∞ëemailId"),!1):!1}function k(){m.value=!0}function c(){m.value=!1,y(),t.value=null}return Ge(()=>{document.addEventListener("keydown",U)}),Je(()=>{document.removeEventListener("keydown",U),t.value=null,b.value=null,_.value=!1}),{hoveredEmail:t,previewVisible:_,previewEmail:b,previewEnabled:m,handleMouseEnter:B,handleMouseLeave:S,handleSpacePreview:C,openPreview:M,closePreview:y,handleEmailChange:D,validateEmailData:A,enablePreview:k,disablePreview:c}}const Mt={key:0,class:"email-preview-content"},Tt={class:"email-info-section"},Dt={class:"email-info-row"},Ft={class:"info-value"},Vt={class:"sender-name"},Ut={class:"sender-email"},At={class:"email-info-row"},jt={class:"info-value"},Pt={class:"email-info-row"},zt={class:"info-value"},Nt={key:0,class:"status-alert error"},Ht={key:1,class:"status-alert warning"},Rt={key:2,class:"status-alert warning"},qt={class:"email-content-section"},Ot=["innerHTML"],Gt=["innerHTML"],Jt={key:0,class:"attachments-section"},Kt={class:"attachments-header"},Wt={class:"attachments-list"},Qt={class:"attachment-name"},Xt={class:"attachment-size"},Yt={class:"dialog-footer"},Zt={__name:"index",props:{modelValue:{type:Boolean,default:!1},email:{type:Object,default:null}},emits:["update:modelValue","view-details","closed"],setup(t,{emit:_}){const b=t,m=_,B=ye({get:()=>b.modelValue,set:k=>m("update:modelValue",k)});function S(){B.value=!1}function C(){m("closed")}function M(){m("view-details",b.email),S()}function y(k){if(!k)return"";try{const c=JSON.parse(k);return Array.isArray(c)?c.map(l=>l.email||l).join(", "):k}catch{return k}}function U(k){if(!k)return"";const c=k.replace(/<script[^>]*>.*?<\/script>/gi,"").replace(/<iframe[^>]*>.*?<\/iframe>/gi,"").replace(/<object[^>]*>.*?<\/object>/gi,"").replace(/<embed[^>]*>/gi,"");return _e(c,{highlightEmails:!0,highlightCodes:!0})}function D(k){const c=k.target;if(Ie(c)){k.stopPropagation();const l=be(c),v=c.getAttribute("data-type")||c.closest(".email-highlight, .code-highlight")?.getAttribute("data-type");if(l){let L;v==="email"?L=`üìß Â∑≤Â§çÂà∂ÈÇÆÁÆ±: ${l}`:v==="code"?L=`üîê Â∑≤Â§çÂà∂È™åËØÅÁ†Å: ${l}`:L=`üìã Â∑≤Â§çÂà∂: ${l}`,ne(l,{successMessage:L,errorMessage:"‚ùå Â§çÂà∂Â§±Ë¥•ÔºåËØ∑ÈáçËØï",duration:3e3})}}}function A(k){if(!k)return"0 B";const c=1024,l=["B","KB","MB","GB"],v=Math.floor(Math.log(k)/Math.log(c));return parseFloat((k/Math.pow(c,v)).toFixed(2))+" "+l[v]}return(k,c)=>{const l=Se,v=ft,L=ht;return s(),E(L,{modelValue:B.value,"onUpdate:modelValue":c[0]||(c[0]=$=>B.value=$),title:t.email?.subject||"(Êó†‰∏ªÈ¢ò)",width:"70%","close-on-click-modal":!1,"close-on-press-escape":!0,"show-close":!0,class:"email-preview-dialog",onClosed:C},{footer:p(()=>[a("div",Yt,[n(v,{onClick:S},{default:p(()=>[...c[7]||(c[7]=[z("ÂÖ≥Èó≠",-1)])]),_:1}),n(v,{type:"primary",onClick:M},{default:p(()=>[...c[8]||(c[8]=[z("Êü•ÁúãËØ¶ÊÉÖ",-1)])]),_:1})])]),default:p(()=>[t.email?(s(),r("div",Mt,[a("div",Tt,[a("div",Dt,[c[1]||(c[1]=a("span",{class:"info-label"},"Âèë‰ª∂‰∫∫Ôºö",-1)),a("span",Ft,[a("span",Vt,I(t.email.name),1),a("span",Ut,"<"+I(t.email.sendEmail)+">",1)])]),a("div",At,[c[2]||(c[2]=a("span",{class:"info-label"},"Êî∂‰ª∂‰∫∫Ôºö",-1)),a("span",jt,I(y(t.email.recipient)),1)]),a("div",Pt,[c[3]||(c[3]=a("span",{class:"info-label"},"Êó∂Èó¥Ôºö",-1)),a("span",zt,I(d(dt)(t.email.createTime)),1)]),t.email.status===3?(s(),r("div",Nt,[n(d(g),{icon:"bi:exclamation-triangle-fill",width:"16",height:"16"}),c[4]||(c[4]=a("span",null,"ÈÇÆ‰ª∂ÂèëÈÄÅÂ§±Ë¥•",-1))])):u("",!0),t.email.status===4?(s(),r("div",Ht,[n(d(g),{icon:"bi:exclamation-triangle-fill",width:"16",height:"16"}),c[5]||(c[5]=a("span",null,"ÈÇÆ‰ª∂Ë¢´ÊäïËØâ",-1))])):u("",!0),t.email.status===5?(s(),r("div",Rt,[n(d(g),{icon:"bi:clock-fill",width:"16",height:"16"}),c[6]||(c[6]=a("span",null,"ÈÇÆ‰ª∂ÂèëÈÄÅÂª∂Ëøü",-1))])):u("",!0)]),a("div",qt,[n(l,{class:"content-scrollbar","max-height":"400px"},{default:p(()=>[t.email.content?(s(),r("div",{key:0,class:"html-content",innerHTML:U(t.email.content),onClick:D},null,8,Ot)):(s(),r("pre",{key:1,class:"text-content",innerHTML:U(t.email.text||"(Êó†ÂÜÖÂÆπ)"),onClick:D},null,8,Gt))]),_:1})]),t.email.attList&&t.email.attList.length>0?(s(),r("div",Jt,[a("div",Kt,[n(d(g),{icon:"bi:paperclip",width:"16",height:"16"}),a("span",null,"ÈôÑ‰ª∂ ("+I(t.email.attList.length)+")",1)]),a("div",Wt,[(s(!0),r(R,null,oe(t.email.attList,$=>(s(),r("div",{key:$.attId,class:"attachment-item"},[n(d(g),{icon:"bi:file-earmark",width:"16",height:"16"}),a("span",Qt,I($.filename),1),a("span",Xt,I(A($.size)),1)]))),128))])])):u("",!0)])):u("",!0)]),_:1},8,["modelValue","title"])}}},ea=ie(Zt,[["__scopeId","data-v-0362efb6"]]),ta={class:"email-container"},aa={class:"header-actions"},la={class:"header-right"},sa={key:0,class:"email-count"},na={class:"scroll-box","infinite-scroll-immediate":!1,"infinite-scroll-distance":"600"},oa=["data-checked","onClick","onMouseenter","onMouseleave"],ia=["onClick"],ca={key:1},ra={key:0,class:"email-status"},ua={key:7,class:"del-status"},da={key:1},ha={class:"name"},fa={class:"phone-time"},ma={class:"email-text"},va={class:"email-subject"},ga=["innerHTML"],pa={key:0,class:"user-info"},wa={class:"user"},ka={class:"account"},ya=["title","onClick"],Sa={key:0,class:"read-count-badge"},Ea={class:"email-time"},Ia={key:0,class:"follow-loading"},ba={key:3,class:"noLoading"},_a={key:4,class:"empty"},$a={__name:"index",props:{getEmailList:Function,emailDelete:Function,starAdd:Function,starCancel:Function,cancelSuccess:Function,starSuccess:Function,actionLeft:{type:String,default:"0"},timeSort:{type:Number,default:0},showStatus:{type:Boolean,default:!1},showAccountIcon:{type:Boolean,default:!0},showUserInfo:{type:Boolean,default:!1},showStar:{type:Boolean,default:!0},allowStar:{type:Boolean,default:!0},allowDelete:{type:Boolean,default:!0},type:{type:String,default:""},skeleton:{type:Boolean,default:!0},showFirstLoading:{type:Boolean,default:!0}},emits:["jump","refresh-before","delete-draft"],setup(t,{expose:_,emit:b}){const m=t,B=b,{t:S}=Ke(),C=We(),M=Qe(),y=ut(),{hoveredEmail:U,previewVisible:D,previewEmail:A,handleMouseEnter:k,handleMouseLeave:c,handleEmailChange:l}=Lt(),v=x(!1),L=x(!1),$=x(!1),h=ge([]),j=x(0),q=x(!1),O=x(!1),Y=x(null),G=x(!0);let ce=0;const Z=x(null),ee=x(null);let J=!1,re=innerWidth<1367,K=0;const F=ge({emailId:0,size:30});_({refresh:me,refreshList:ve,deleteEmail:de,addItem:Me,emailList:h,firstLoad:G,latestEmail:Z,noLoading:$,total:j}),Xe(()=>{Y.value.scrollTop=ce}),Q(),Ye(()=>{ce=Y.value.scrollTop}),X(()=>h.map(e=>e.checked),()=>{h.length>0&&Fe()},{deep:!0}),X(()=>y.deleteIds,()=>{y.deleteIds&&de(y.deleteIds)}),X(()=>y.cancelStarEmailId,()=>{h.forEach(e=>{e.emailId===y.cancelStarEmailId&&(e.isStar=0)})}),X(()=>y.addStarEmailId,()=>{h.forEach(e=>{e.emailId===y.addStarEmailId&&(e.isStar=1)})});function $e(){if(h.length>20)return K=20;if(h.length===0)return K=1;K=h.length}const W=ye(()=>M.accountShow&&C.settings.manyEmail===0);function xe(e){if(e.content){const i=document.createElement("div");i.innerHTML=e.content.replace(/<(img|iframe|object|embed|video|audio|source|link)[^>]*>/gi,""),i.querySelectorAll("script, style, title").forEach(T=>T.remove());let f=i.textContent||i.innerText||"";return f=f.replace(/\s+/g," ").trim(),ue(f)}return e.text?ue(e.text):""}function ue(e){return e.replace(/[\u200B-\u200F\uFEFF\u034F\u200B-\u200F\u00A0\u3000\u00AD]/g,"").replace(/\s+/g," ").trim()}function Ce(e){if(e.isStar)e.isStar=0,m.starCancel(e.emailId).then(()=>{e.isStar=0,m.cancelSuccess?.(e)}).catch(i=>{console.error(i),e.isStar=1});else{if(!m.allowStar)return;e.isStar=1,m.starAdd(e.emailId).then(()=>{e.isStar=1,m.starSuccess(e)}).catch(i=>{console.error(i),e.isStar=0})}}function Be(){M.accountShow=!M.accountShow}const Le=()=>{mt.confirm(S("delEmailsConfirm"),{confirmButtonText:S("confirm"),cancelButtonText:S("cancel"),type:"warning"}).then(()=>{if(m.type==="draft"){const i=De();B("delete-draft",i);return}const e=he();m.emailDelete(e).then(()=>{at({message:S("delSuccessMsg"),type:"success",plain:!0}),y.deleteIds=e})})};function de(e){e.forEach(i=>{h.forEach((w,f)=>{i===w.emailId&&h.splice(f,1)})}),h.length<F.size&&!$.value&&Q()}function Me(e){if(h.findIndex(f=>f.emailId===e.emailId)>-1)return;if(m.timeSort){$.value&&(h.push(e),Z.value=e),j.value++;return}const w=h.findIndex(f=>f.emailId<e.emailId);w!==-1?h.splice(w,0,e):$.value&&h.push(e),j.value++}function Te(e){h.forEach(i=>i.checked=e),O.value=!1}function he(){return h.filter(e=>e.checked).map(e=>e.emailId)}function De(){return h.filter(e=>e.checked).map(e=>e.draftId)}function Fe(){const e=h.filter(i=>i.checked).length;q.value=e===h.length,O.value=e>0&&e<h.length}function fe(e){B("jump",e)}function Ve(e,i){const w=e.target;if(Ie(w)){e.stopPropagation();const f=be(w),T=w.getAttribute("data-type")||w.closest(".email-highlight, .code-highlight")?.getAttribute("data-type");if(f){let V;T==="email"?V=`üìß Â∑≤Â§çÂà∂ÈÇÆÁÆ±: ${f}`:T==="code"?V=`üîê Â∑≤Â§çÂà∂È™åËØÅÁ†Å: ${f}`:V=`üìã Â∑≤Â§çÂà∂: ${f}`,ne(f,{successMessage:V,errorMessage:"‚ùå Â§çÂà∂Â§±Ë¥•ÔºåËØ∑ÈáçËØï",duration:3e3}),Ue(w)}return}fe(i)}function Ue(e){const i=e.closest(".email-highlight, .code-highlight")||e;i.classList.add("highlight-clicked"),setTimeout(()=>{i.classList.remove("highlight-clicked")},200)}function Ae(e){e&&ne(e,{successMessage:`üìß Â∑≤Â§çÂà∂ÈÇÆÁÆ±Âú∞ÂùÄ: ${e}`,errorMessage:"‚ùå Â§çÂà∂Â§±Ë¥•ÔºåËØ∑ÈáçËØï",duration:3e3})}function je(e){k(e),U.value&&e&&l(e)}function Pe(e){c(e)}function ze(e){const i=xe(e);return!i||i==="‚Äã"?"‚Äã":_e(i,{highlightEmails:!0,highlightCodes:!0})}function Ne(e){e&&e.emailId&&fe(e)}function He(){}function Q(e=!1){if(J)return;if(J=!0,e)$e(),v.value=!0;else if(v.value||$.value){J=!1;return}h.length===0?v.value=!0:L.value=!e;let i=Date.now();m.getEmailList(F.emailId,F.size).then(async w=>{let T=Date.now()-i;T<500&&!F.emailId&&await lt(500-T),G.value=!1;let V=w.list.map(te=>({...te,checked:!1}));e&&(h.length=0),Z.value=w.latestEmail,h.push(...V),e&&ee.value?.setScrollTop(0),$.value=w.list.length<F.size,L.value=w.list.length>=F.size,j.value=w.total,F.emailId=w.list.length>0?w.list.at(-1).emailId:0}).finally(()=>{v.value=!1,J=!1})}function me(){B("refresh-before"),m.skeleton&&ee.value.setScrollTop(0),ve()}function ve(){q.value=!1,O.value=!1,F.emailId=0,Q(!0)}function Re(){Q()}return(e,i)=>{const w=Ee,f=it,T=tt,V=nt,te=Se,qe=et("perm"),Oe=st;return s(),r("div",ta,[a("div",aa,[n(w,{modelValue:q.value,"onUpdate:modelValue":i[0]||(i[0]=o=>q.value=o),indeterminate:O.value,disabled:!h.length||v.value,onChange:Te},null,8,["modelValue","indeterminate","disabled"]),a("div",{class:"header-left",style:N("padding-left:"+t.actionLeft)},[ae(e.$slots,"first",{},void 0,!0),n(d(g),{class:"icon reload",icon:"ion:reload",width:"18",height:"18",onClick:me}),t.allowDelete&&he().length>0?pe((s(),E(d(g),{key:0,class:"icon",icon:"uiw:delete",width:"16",height:"16",onClick:Le},null,512)),[[qe,"email:delete"]]):u("",!0)],4),a("div",la,[j.value?(s(),r("span",sa,I(e.$t("emailCount",{total:j.value})),1)):u("",!0),t.showAccountIcon?(s(),E(d(g),{key:1,class:"more-icon icon",width:"16",height:"16",icon:"akar-icons:dot-grid-fill",onClick:Be})):u("",!0)])]),a("div",{ref_key:"scroll",ref:Y,class:"scroll"},[n(te,{ref_key:"scrollbarRef",ref:ee,style:{height:"100%"}},{default:p(()=>[pe((s(),r("div",na,[t.skeleton&&!v.value?(s(!0),r(R,{key:0},oe(h,o=>(s(),r("div",{key:o.emailId},[a("div",{class:"email-row","data-checked":o.checked,onClick:P=>Ve(P,o),onMouseenter:P=>je(o),onMouseleave:P=>Pe(o)},[n(w,{class:H(m.type==="all-email"?"all-email-checkbox":"checkbox"),modelValue:o.checked,"onUpdate:modelValue":P=>o.checked=P,onClick:i[1]||(i[1]=le(()=>{},["stop"]))},null,8,["class","modelValue","onUpdate:modelValue"]),t.showStar?(s(),r("div",{key:0,onClick:le(P=>Ce(o),["stop"]),class:"pc-star"},[o.isStar?(s(),E(d(g),{key:0,icon:"fluent-color:star-16",width:"20",height:"20"})):(s(),E(d(g),{key:1,icon:"solar:star-line-duotone",width:"18",height:"18"}))],8,ia)):u("",!0),t.showStar?u("",!0):(s(),r("div",ca)),a("div",{class:H(["title",(W.value,"title-column")])},[a("div",{class:"email-sender",style:N(t.showStatus?"gap: 10px;":"")},[t.showStatus?(s(),r("div",ra,[o.status===0?(s(),E(f,{key:0,effect:"dark",content:e.$t("received")},{default:p(()=>[n(d(g),{icon:"ic:round-mark-email-read",style:{color:"#51C76B"},width:"20",height:"20"}),i[3]||(i[3]=z(" /> ",-1))]),_:1},8,["content"])):u("",!0),o.status===1?(s(),E(f,{key:1,effect:"dark",content:e.$t("sent")},{default:p(()=>[n(d(g),{icon:"bi:send-arrow-up-fill",style:{color:"#51C76B"},width:"20",height:"20"})]),_:1},8,["content"])):u("",!0),o.status===2?(s(),E(f,{key:2,effect:"dark",content:e.$t("delivered")},{default:p(()=>[n(d(g),{icon:"bi:send-check-fill",style:{color:"#51C76B"},width:"20",height:"20"})]),_:1},8,["content"])):u("",!0),o.status===3?(s(),E(f,{key:3,effect:"dark",content:e.$t("bounced")},{default:p(()=>[n(d(g),{icon:"bi:send-x-fill",style:{color:"#F56C6C"},width:"20",height:"20"})]),_:1},8,["content"])):u("",!0),o.status===4?(s(),E(f,{key:4,effect:"dark",content:e.$t("complained")},{default:p(()=>[n(d(g),{icon:"bi:send-exclamation-fill",style:{color:"#FBBD08"},width:"20",height:"20"})]),_:1},8,["content"])):u("",!0),o.status===5?(s(),E(f,{key:5,effect:"dark",content:e.$t("delayed")},{default:p(()=>[n(d(g),{icon:"bi:send-arrow-up-fill",style:{color:"#FBBD08"},width:"20",height:"20"})]),_:1},8,["content"])):u("",!0),o.status===7?(s(),E(f,{key:6,effect:"dark",content:e.$t("noRecipient")},{default:p(()=>[n(d(g),{icon:"ic:round-mark-email-read",style:{color:"#FBBD08"},width:"20",height:"20"})]),_:1},8,["content"])):u("",!0),o.isDel?(s(),r("div",ua,[n(f,{effect:"dark",content:e.$t("selectDeleted")},{default:p(()=>[n(d(g),{class:"icon",icon:"mdi:email-remove",width:"20",height:"20"})]),_:1},8,["content"])])):u("",!0)])):(s(),r("div",da)),a("span",ha,[a("span",null,[ae(e.$slots,"name",{email:o},()=>[z(I(o.name),1)],!0)]),a("span",null,[o.isStar?(s(),E(d(g),{key:0,icon:"fluent-color:star-16",width:"18",height:"18"})):u("",!0)])]),a("span",fa,I(d(ke)(o.createTime)),1)],4),a("div",null,[a("div",ma,[a("span",va,[ae(e.$slots,"subject",{email:o},()=>[z(I(o.subject||"‚Äã"),1)],!0)]),a("span",{class:"email-content",innerHTML:ze(o)},null,8,ga)]),t.showUserInfo?(s(),r("div",pa,[a("div",wa,[a("span",null,[n(d(g),{icon:"mynaui:user",width:"20",height:"20"})]),a("span",null,I(o.userEmail),1)]),a("div",ka,[a("span",null,[n(d(g),{icon:"mdi-light:email",width:"20",height:"20"})]),a("span",{class:"email-address-display",title:`ÁÇπÂáªÂ§çÂà∂ÈÇÆÁÆ±Âú∞ÂùÄ: ${o.type===0?o.toEmail:o.sendEmail}`,onClick:le(P=>Ae(o.type===0?o.toEmail:o.sendEmail),["stop"])},I(o.type===0?o.toEmail:o.sendEmail),9,ya)])])):u("",!0)])],2),a("div",{class:"email-right",style:N(t.showUserInfo?"align-self: start;":"")},[o.readCount!==void 0?(s(),r("div",Sa,[n(f,{effect:"dark",content:`Â∑≤Êü•Áúã ${o.readCount} Ê¨°`,placement:"top"},{default:p(()=>[n(T,{value:o.readCount,max:99,hidden:o.readCount===0},{default:p(()=>[n(d(g),{icon:"mdi:eye-outline",color:o.readCount>0?"#409EFF":"#909399",width:"18",height:"18"},null,8,["color"])]),_:2},1032,["value","hidden"])]),_:2},1032,["content"])])):u("",!0),a("span",Ea,I(d(ke)(o.createTime)),1)],4)],40,oa)]))),128)):u("",!0),t.skeleton?(s(),r(R,{key:1},[G.value&&t.showFirstLoading?(s(),E(se,{key:0,rows:20,showStar:t.showStar,accountShow:W.value,showStatus:t.showStatus,showUserInfo:t.showUserInfo,type:t.type},null,8,["showStar","accountShow","showStatus","showUserInfo","type"])):u("",!0),v.value?(s(),E(se,{key:1,rows:d(K),showStar:t.showStar,accountShow:W.value,showStatus:t.showStatus,showUserInfo:t.showUserInfo,type:t.type},null,8,["rows","showStar","accountShow","showStatus","showUserInfo","type"])):u("",!0),L.value?(s(),E(se,{key:2,rows:d(re)?1:2,showStar:t.showStar,accountShow:W.value,showStatus:t.showStatus,showUserInfo:t.showUserInfo,type:t.type},null,8,["rows","showStar","accountShow","showStatus","showUserInfo","type"])):u("",!0)],64)):(s(),r(R,{key:2},[i[4]||(i[4]=a("div",null,null,-1)),a("div",{class:H(["loading",v.value?"loading-show":"loading-hide"]),style:N(G.value?"background: transparent":"")},[n(we)],6),L.value?(s(),r("div",Ia,[n(we)])):u("",!0)],64)),$.value&&h.length>0&&!(t.skeleton&&v.value)?(s(),r("div",ba,[a("div",null,I(e.$t("noMoreData")),1)])):u("",!0),$.value&&h.length===0&&!(t.skeleton&&v.value)?(s(),r("div",_a,[n(V,{"image-size":d(re)?120:0,description:e.$t("noMessagesFound")},null,8,["image-size","description"])])):u("",!0)])),[[Oe,Re]])]),_:3},512)],512),n(ea,{modelValue:d(D),"onUpdate:modelValue":i[2]||(i[2]=o=>Ze(D)?D.value=o:null),email:d(A),onViewDetails:Ne,onClosed:He},null,8,["modelValue","email"])])}}},Ka=ie($a,[["__scopeId","data-v-578f1f0a"]]);export{ea as E,Ka as e,Lt as u};

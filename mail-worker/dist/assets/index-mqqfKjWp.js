import{aG as tt,b as nt,_ as ue,a as Z,l as G,c as ee,A as I,h as A,aE as Nt,p as R,o as _,q as S,r as ie,f as P,e as z,n as M,t as $,i as Y,s as Ct,w as Pe,bx as kt,aH as bt,D as Q,J as ot,aK as at,j as ze,aj as st,by as Et,bz as xe,U as me,Y as $e,F as ye,aJ as Ne,N as lt,bA as wt,V as Dt,a2 as Ge,a1 as Ce,z as ae,L as Qe,H as ce,y as Se,v as Kt,ah as J,O as Ae,P as Be,g as x,a7 as N,ag as F,Q as Re,af as Ve,bB as St,M as Tt,G as j,bC as It,I as rt,b7 as _t,E as W,S as xt,d as ge,bs as $t,a4 as At,a9 as Bt,aa as Ot,ad as re}from"./index-92mnh-J5.js";import{E as Lt}from"./el-overlay-jTA8uYnN.js";import{E as Mt}from"./el-checkbox-DpAuy9Ti.js";/* empty css                        *//* empty css                 */import{E as Pt}from"./el-input-number-Bip_U3ji.js";import{u as H,h as Te,E as zt,f as Rt,a as Vt}from"./el-tag-Dck20whD.js";import{s as Ut,E as Ft,a as jt}from"./el-select-DGaDXl_M.js";import{E as qt}from"./el-scrollbar-lgMH0mZQ.js";import{E as Ht,a as Wt,b as Yt}from"./el-radio-DGAw60Lp.js";import{E as Jt}from"./el-input-tag-JYlVIT1L.js";import{E as Gt,h as Qt}from"./el-table-column-uawMUA32.js";import"./el-tooltip-l0sNRNKZ.js";/* empty css                  *//* empty css                        */import{d as Ie,b as Xt,E as Zt,a as en}from"./el-dropdown-item-CgMmokvT.js";import{I as _e}from"./iconify-VCTUy_UH.js";import{u as tn,a as nn,b as on,c as an,d as sn,e as ln,f as rn}from"./role-C1oV9RuQ.js";import{l as dn}from"./index-UYGPyXpS.js";import{i as cn,a as un}from"./verify-utils-D6Av2NDy.js";/* empty css                       */import{_ as hn}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{u as fn,a as pn,E as mn}from"./index-CG9L6tLM.js";import{E as gn}from"./vnode-DfneDD37.js";import{E as vn}from"./index-03zk_vof.js";import{E as yn}from"./index-B-u1Rqw0.js";import"./index-ChZfA3gH.js";import"./index-C8SbU5-9.js";import"./validator-Cw4sOcG_.js";const Nn=nt({trigger:Te.trigger,triggerKeys:Te.triggerKeys,placement:Ie.placement,disabled:Te.disabled,visible:H.visible,transition:H.transition,popperOptions:Ie.popperOptions,tabindex:Ie.tabindex,content:H.content,popperStyle:H.popperStyle,popperClass:H.popperClass,enterable:{...H.enterable,default:!0},effect:{...H.effect,default:"light"},teleported:H.teleported,appendTo:H.appendTo,title:String,width:{type:[String,Number],default:150},offset:{type:Number,default:void 0},showAfter:{type:Number,default:0},hideAfter:{type:Number,default:200},autoClose:{type:Number,default:0},showArrow:{type:Boolean,default:!0},persistent:{type:Boolean,default:!0},"onUpdate:visible":{type:Function}}),Cn={"update:visible":t=>tt(t),"before-enter":()=>!0,"before-leave":()=>!0,"after-enter":()=>!0,"after-leave":()=>!0},kn="onUpdate:visible",bn=Z({name:"ElPopover"}),En=Z({...bn,props:Nn,emits:Cn,setup(t,{expose:e,emit:n}){const a=t,o=G(()=>a[kn]),s=ee("popover"),l=I(),u=G(()=>{var h;return(h=A(l))==null?void 0:h.popperRef}),p=G(()=>[{width:Nt(a.width)},a.popperStyle]),f=G(()=>[s.b(),a.popperClass,{[s.m("plain")]:!!a.content}]),r=G(()=>a.transition===`${s.namespace.value}-fade-in-linear`),m=()=>{var h;(h=l.value)==null||h.hide()},y=()=>{n("before-enter")},C=()=>{n("before-leave")},k=()=>{n("after-enter")},b=()=>{n("update:visible",!1),n("after-leave")};return e({popperRef:u,hide:m}),(h,K)=>(_(),R(A(zt),Ct({ref_key:"tooltipRef",ref:l},h.$attrs,{trigger:h.trigger,"trigger-keys":h.triggerKeys,placement:h.placement,disabled:h.disabled,visible:h.visible,transition:h.transition,"popper-options":h.popperOptions,tabindex:h.tabindex,content:h.content,offset:h.offset,"show-after":h.showAfter,"hide-after":h.hideAfter,"auto-close":h.autoClose,"show-arrow":h.showArrow,"aria-label":h.title,effect:h.effect,enterable:h.enterable,"popper-class":A(f),"popper-style":A(p),teleported:h.teleported,"append-to":h.appendTo,persistent:h.persistent,"gpu-acceleration":A(r),"onUpdate:visible":A(o),onBeforeShow:y,onBeforeHide:C,onShow:k,onHide:b}),{content:S(()=>[h.title?(_(),z("div",{key:0,class:M(A(s).e("title")),role:"title"},$(h.title),3)):P("v-if",!0),ie(h.$slots,"default",{},()=>[Y($(h.content),1)])]),default:S(()=>[h.$slots.reference?ie(h.$slots,"reference",{key:0}):P("v-if",!0)]),_:3},16,["trigger","trigger-keys","placement","disabled","visible","transition","popper-options","tabindex","content","offset","show-after","hide-after","auto-close","show-arrow","aria-label","effect","enterable","popper-class","popper-style","teleported","append-to","persistent","gpu-acceleration","onUpdate:visible"]))}});var wn=ue(En,[["__file","popover.vue"]]);const Xe=(t,e)=>{const n=e.arg||e.value,a=n?.popperRef;a&&(a.triggerRef=t)};var Dn={mounted(t,e){Xe(t,e)},updated(t,e){Xe(t,e)}};const Kn="popover",Sn=kt(Dn,Kn),Tn=Pe(wn,{directive:Sn}),In=nt({type:{type:String,values:["primary","success","info","warning","danger",""],default:""},size:{type:String,values:bt,default:""},truncated:Boolean,lineClamp:{type:[String,Number]},tag:{type:String,default:"span"}}),_n=Z({name:"ElText"}),xn=Z({..._n,props:In,setup(t){const e=t,n=I(),a=fn(),o=ee("text"),s=G(()=>[o.b(),o.m(e.type),o.m(a.value),o.is("truncated",e.truncated),o.is("line-clamp",!Q(e.lineClamp))]),l=()=>{var u,p,f,r,m,y,C;if(Et().title)return;let b=!1;const h=((u=n.value)==null?void 0:u.textContent)||"";if(e.truncated){const K=(p=n.value)==null?void 0:p.offsetWidth,i=(f=n.value)==null?void 0:f.scrollWidth;K&&i&&i>K&&(b=!0)}else if(!Q(e.lineClamp)){const K=(r=n.value)==null?void 0:r.offsetHeight,i=(m=n.value)==null?void 0:m.scrollHeight;K&&i&&i>K&&(b=!0)}b?(y=n.value)==null||y.setAttribute("title",h):(C=n.value)==null||C.removeAttribute("title")};return ot(l),at(l),(u,p)=>(_(),R(st(u.tag),{ref_key:"textRef",ref:n,class:M(A(s)),style:ze({"-webkit-line-clamp":u.lineClamp})},{default:S(()=>[ie(u.$slots,"default")]),_:3},8,["class","style"]))}});var $n=ue(xn,[["__file","text.vue"]]);const An=Pe($n),oe="$treeNodeId",Ze=function(t,e){!e||e[oe]||Object.defineProperty(e,oe,{value:t.id,enumerable:!1,configurable:!1,writable:!1})},Ue=(t,e)=>e?.[t||oe],Oe=(t,e,n)=>{const a=t.value.currentNode;n();const o=t.value.currentNode;a!==o&&e("current-change",o?o.data:null,o)},Le=t=>{let e=!0,n=!0,a=!0;for(let o=0,s=t.length;o<s;o++){const l=t[o];(l.checked!==!0||l.indeterminate)&&(e=!1,l.disabled||(a=!1)),(l.checked!==!1||l.indeterminate)&&(n=!1)}return{all:e,none:n,allWithoutDisable:a,half:!e&&!n}},de=function(t){if(t.childNodes.length===0||t.loading)return;const{all:e,none:n,half:a}=Le(t.childNodes);e?(t.checked=!0,t.indeterminate=!1):a?(t.checked=!1,t.indeterminate=!0):n&&(t.checked=!1,t.indeterminate=!1);const o=t.parent;!o||o.level===0||t.store.checkStrictly||de(o)},ve=function(t,e){const n=t.store.props,a=t.data||{},o=n[e];if(Ne(o))return o(a,t);if(lt(o))return a[o];if(Q(o)){const s=a[e];return Q(s)?"":s}},Me=function(t,e){t.forEach(n=>{n.canFocus=e,Me(n.childNodes,e)})};let Bn=0;class X{constructor(e){this.isLeafByUser=void 0,this.isLeaf=void 0,this.id=Bn++,this.text=null,this.checked=!1,this.indeterminate=!1,this.data=null,this.expanded=!1,this.parent=null,this.visible=!0,this.isCurrent=!1,this.canFocus=!1;for(const n in e)xe(e,n)&&(this[n]=e[n]);this.level=0,this.loaded=!1,this.childNodes=[],this.loading=!1,this.parent&&(this.level=this.parent.level+1)}initialize(){var e;const n=this.store;if(!n)throw new Error("[Node]store is required!");n.registerNode(this);const a=n.props;if(a&&typeof a.isLeaf<"u"){const l=ve(this,"isLeaf");tt(l)&&(this.isLeafByUser=l)}if(n.lazy!==!0&&this.data?(this.setData(this.data),n.defaultExpandAll&&(this.expanded=!0,this.canFocus=!0)):this.level>0&&n.lazy&&n.defaultExpandAll&&!this.isLeafByUser&&this.expand(),me(this.data)||Ze(this,this.data),!this.data)return;const o=n.defaultExpandedKeys,s=n.key;s&&!$e(this.key)&&o&&o.includes(this.key)&&this.expand(null,n.autoExpandParent),s&&n.currentNodeKey!==void 0&&this.key===n.currentNodeKey&&(n.currentNode=this,n.currentNode.isCurrent=!0),n.lazy&&n._initDefaultCheckedNode(this),this.updateLeafState(),(this.level===1||((e=this.parent)==null?void 0:e.expanded)===!0)&&(this.canFocus=!0)}setData(e){me(e)||Ze(this,e),this.data=e,this.childNodes=[];let n;this.level===0&&me(this.data)?n=this.data:n=ve(this,"children")||[];for(let a=0,o=n.length;a<o;a++)this.insertChild({data:n[a]})}get label(){return ve(this,"label")}get key(){const e=this.store.key;return this.data?this.data[e]:null}get disabled(){return ve(this,"disabled")}get nextSibling(){const e=this.parent;if(e){const n=e.childNodes.indexOf(this);if(n>-1)return e.childNodes[n+1]}return null}get previousSibling(){const e=this.parent;if(e){const n=e.childNodes.indexOf(this);if(n>-1)return n>0?e.childNodes[n-1]:null}return null}contains(e,n=!0){return(this.childNodes||[]).some(a=>a===e||n&&a.contains(e))}remove(){const e=this.parent;e&&e.removeChild(this)}insertChild(e,n,a){if(!e)throw new Error("InsertChild error: child is required.");if(!(e instanceof X)){if(!a){const o=this.getChildren(!0);o?.includes(e.data)||(Q(n)||n<0?o?.push(e.data):o?.splice(n,0,e.data))}Object.assign(e,{parent:this,store:this.store}),e=ye(new X(e)),e instanceof X&&e.initialize()}e.level=this.level+1,Q(n)||n<0?this.childNodes.push(e):this.childNodes.splice(n,0,e),this.updateLeafState()}insertBefore(e,n){let a;n&&(a=this.childNodes.indexOf(n)),this.insertChild(e,a)}insertAfter(e,n){let a;n&&(a=this.childNodes.indexOf(n),a!==-1&&(a+=1)),this.insertChild(e,a)}removeChild(e){const n=this.getChildren()||[],a=n.indexOf(e.data);a>-1&&n.splice(a,1);const o=this.childNodes.indexOf(e);o>-1&&(this.store&&this.store.deregisterNode(e),e.parent=null,this.childNodes.splice(o,1)),this.updateLeafState()}removeChildByData(e){let n=null;for(let a=0;a<this.childNodes.length;a++)if(this.childNodes[a].data===e){n=this.childNodes[a];break}n&&this.removeChild(n)}expand(e,n){const a=()=>{if(n){let o=this.parent;for(;o&&o.level>0;)o.expanded=!0,o=o.parent}this.expanded=!0,e&&e(),Me(this.childNodes,!0)};this.shouldLoadData()?this.loadData(o=>{me(o)&&(this.checked?this.setChecked(!0,!0):this.store.checkStrictly||de(this),a())}):a()}doCreateChildren(e,n={}){e.forEach(a=>{this.insertChild(Object.assign({data:a},n),void 0,!0)})}collapse(){this.expanded=!1,Me(this.childNodes,!1)}shouldLoadData(){return!!(this.store.lazy===!0&&this.store.load&&!this.loaded)}updateLeafState(){if(this.store.lazy===!0&&this.loaded!==!0&&typeof this.isLeafByUser<"u"){this.isLeaf=this.isLeafByUser;return}const e=this.childNodes;if(!this.store.lazy||this.store.lazy===!0&&this.loaded===!0){this.isLeaf=!e||e.length===0;return}this.isLeaf=!1}setChecked(e,n,a,o){if(this.indeterminate=e==="half",this.checked=e===!0,this.store.checkStrictly)return;if(!(this.shouldLoadData()&&!this.store.checkDescendants)){const{all:l,allWithoutDisable:u}=Le(this.childNodes);!this.isLeaf&&!l&&u&&(this.checked=!1,e=!1);const p=()=>{if(n){const f=this.childNodes;for(let y=0,C=f.length;y<C;y++){const k=f[y];o=o||e!==!1;const b=k.disabled?k.checked:o;k.setChecked(b,n,!0,o)}const{half:r,all:m}=Le(f);m||(this.checked=m,this.indeterminate=r)}};if(this.shouldLoadData()){this.loadData(()=>{p(),de(this)},{checked:e!==!1});return}else p()}const s=this.parent;!s||s.level===0||a||de(s)}getChildren(e=!1){if(this.level===0)return this.data;const n=this.data;if(!n)return null;const a=this.store.props;let o="children";return a&&(o=a.children||"children"),Q(n[o])&&(n[o]=null),e&&!n[o]&&(n[o]=[]),n[o]}updateChildren(){const e=this.getChildren()||[],n=this.childNodes.map(s=>s.data),a={},o=[];e.forEach((s,l)=>{const u=s[oe];!!u&&n.findIndex(f=>f?.[oe]===u)>=0?a[u]={index:l,data:s}:o.push({index:l,data:s})}),this.store.lazy||n.forEach(s=>{a[s?.[oe]]||this.removeChildByData(s)}),o.forEach(({index:s,data:l})=>{this.insertChild({data:l},s)}),this.updateLeafState()}loadData(e,n={}){if(this.store.lazy===!0&&this.store.load&&!this.loaded&&(!this.loading||Object.keys(n).length)){this.loading=!0;const a=s=>{this.childNodes=[],this.doCreateChildren(s,n),this.loaded=!0,this.loading=!1,this.updateLeafState(),e&&e.call(this,s)},o=()=>{this.loading=!1};this.store.load(this,a,o)}else e&&e.call(this)}eachNode(e){const n=[this];for(;n.length;){const a=n.shift();n.unshift(...a.childNodes),e(a)}}reInitChecked(){this.store.checkStrictly||de(this)}}class On{constructor(e){this.lazy=!1,this.checkStrictly=!1,this.autoExpandParent=!1,this.defaultExpandAll=!1,this.checkDescendants=!1,this.currentNode=null,this.currentNodeKey=null;for(const n in e)xe(e,n)&&(this[n]=e[n]);this.nodesMap={}}initialize(){if(this.root=new X({data:this.data,store:this}),this.root.initialize(),this.lazy&&this.load){const e=this.load;e(this.root,n=>{this.root.doCreateChildren(n),this._initDefaultCheckedNodes()},wt)}else this._initDefaultCheckedNodes()}filter(e){const n=this.filterNodeMethod,a=this.lazy,o=async function(s){const l=s.root?s.root.childNodes:s.childNodes;for(const[u,p]of l.entries())p.visible=!!n?.call(p,e,p.data,p),u%80===0&&u>0&&await Ce(),await o(p);if(!s.visible&&l.length){let u=!0;u=!l.some(p=>p.visible),s.root?s.root.visible=u===!1:s.visible=u===!1}e&&s.visible&&!s.isLeaf&&(!a||s.loaded)&&s.expand()};o(this)}setData(e){e!==this.root.data?(this.nodesMap={},this.root.setData(e),this._initDefaultCheckedNodes(),this.setCurrentNodeKey(this.currentNodeKey)):this.root.updateChildren()}getNode(e){if(e instanceof X)return e;const n=Dt(e)?Ue(this.key,e):e;return this.nodesMap[n]||null}insertBefore(e,n){var a;const o=this.getNode(n);(a=o.parent)==null||a.insertBefore({data:e},o)}insertAfter(e,n){var a;const o=this.getNode(n);(a=o.parent)==null||a.insertAfter({data:e},o)}remove(e){const n=this.getNode(e);n&&n.parent&&(n===this.currentNode&&(this.currentNode=null),n.parent.removeChild(n))}append(e,n){const a=Ge(n)?this.root:this.getNode(n);a&&a.insertChild({data:e})}_initDefaultCheckedNodes(){const e=this.defaultCheckedKeys||[],n=this.nodesMap;e.forEach(a=>{const o=n[a];o&&o.setChecked(!0,!this.checkStrictly)})}_initDefaultCheckedNode(e){const n=this.defaultCheckedKeys||[];!$e(e.key)&&n.includes(e.key)&&e.setChecked(!0,!this.checkStrictly)}setDefaultCheckedKey(e){e!==this.defaultCheckedKeys&&(this.defaultCheckedKeys=e,this._initDefaultCheckedNodes())}registerNode(e){const n=this.key;if(!(!e||!e.data))if(!n)this.nodesMap[e.id]=e;else{const a=e.key;$e(a)||(this.nodesMap[a]=e)}}deregisterNode(e){!this.key||!e||!e.data||(e.childNodes.forEach(a=>{this.deregisterNode(a)}),delete this.nodesMap[e.key])}getCheckedNodes(e=!1,n=!1){const a=[],o=function(s){(s.root?s.root.childNodes:s.childNodes).forEach(u=>{(u.checked||n&&u.indeterminate)&&(!e||e&&u.isLeaf)&&a.push(u.data),o(u)})};return o(this),a}getCheckedKeys(e=!1){return this.getCheckedNodes(e).map(n=>(n||{})[this.key])}getHalfCheckedNodes(){const e=[],n=function(a){(a.root?a.root.childNodes:a.childNodes).forEach(s=>{s.indeterminate&&e.push(s.data),n(s)})};return n(this),e}getHalfCheckedKeys(){return this.getHalfCheckedNodes().map(e=>(e||{})[this.key])}_getAllNodes(){const e=[],n=this.nodesMap;for(const a in n)xe(n,a)&&e.push(n[a]);return e}updateChildren(e,n){const a=this.nodesMap[e];if(!a)return;const o=a.childNodes;for(let s=o.length-1;s>=0;s--){const l=o[s];this.remove(l.data)}for(let s=0,l=n.length;s<l;s++){const u=n[s];this.append(u,a.data)}}_setCheckedKeys(e,n=!1,a){const o=this._getAllNodes().sort((p,f)=>p.level-f.level),s=Object.create(null),l=Object.keys(a);o.forEach(p=>p.setChecked(!1,!1));const u=p=>{p.childNodes.forEach(f=>{var r;s[f.data[e]]=!0,(r=f.childNodes)!=null&&r.length&&u(f)})};for(let p=0,f=o.length;p<f;p++){const r=o[p],m=r.data[e].toString();if(!l.includes(m)){r.checked&&!s[m]&&r.setChecked(!1,!1);continue}if(r.childNodes.length&&u(r),r.isLeaf||this.checkStrictly){r.setChecked(!0,!1);continue}if(r.setChecked(!0,!0),n){r.setChecked(!1,!1);const C=function(k){k.childNodes.forEach(h=>{h.isLeaf||h.setChecked(!1,!1),C(h)})};C(r)}}}setCheckedNodes(e,n=!1){const a=this.key,o={};e.forEach(s=>{o[(s||{})[a]]=!0}),this._setCheckedKeys(a,n,o)}setCheckedKeys(e,n=!1){this.defaultCheckedKeys=e;const a=this.key,o={};e.forEach(s=>{o[s]=!0}),this._setCheckedKeys(a,n,o)}setDefaultExpandedKeys(e){e=e||[],this.defaultExpandedKeys=e,e.forEach(n=>{const a=this.getNode(n);a&&a.expand(null,this.autoExpandParent)})}setChecked(e,n,a){const o=this.getNode(e);o&&o.setChecked(!!n,a)}getCurrentNode(){return this.currentNode}setCurrentNode(e){const n=this.currentNode;n&&(n.isCurrent=!1),this.currentNode=e,this.currentNode.isCurrent=!0}setUserCurrentNode(e,n=!0){var a;const o=e[this.key],s=this.nodesMap[o];this.setCurrentNode(s),n&&this.currentNode&&this.currentNode.level>1&&((a=this.currentNode.parent)==null||a.expand(null,!0))}setCurrentNodeKey(e,n=!0){var a;if(this.currentNodeKey=e,Ge(e)){this.currentNode&&(this.currentNode.isCurrent=!1),this.currentNode=null;return}const o=this.getNode(e);o&&(this.setCurrentNode(o),n&&this.currentNode&&this.currentNode.level>1&&((a=this.currentNode.parent)==null||a.expand(null,!0)))}}const Fe="RootTree",dt="NodeInstance",et="TreeNodeMap",Ln=Z({name:"ElTreeNodeContent",props:{node:{type:Object,required:!0},renderContent:Function},setup(t){const e=ee("tree"),n=ae(dt),a=ae(Fe);return()=>{const o=t.node,{data:s,store:l}=o;return t.renderContent?t.renderContent(Qe,{_self:n,node:o,data:s,store:l}):ie(a.ctx.slots,"default",{node:o,data:s},()=>[Qe(An,{tag:"span",truncated:!0,class:e.be("node","label")},()=>[o.label])])}}});var Mn=ue(Ln,[["__file","tree-node-content.vue"]]);function it(t){const e=ae(et,null),n={treeNodeExpand:a=>{var o;t.node!==a&&((o=t.node)==null||o.collapse())},children:[]};return e&&e.children.push(n),ce(et,n),{broadcastExpanded:a=>{if(t.accordion)for(const o of n.children)o.treeNodeExpand(a)}}}const ct=Symbol("dragEvents");function Pn({props:t,ctx:e,el$:n,dropIndicator$:a,store:o}){const s=ee("tree"),l=I({showDropIndicator:!1,draggingNode:null,dropNode:null,allowDrop:!0,dropType:null});return ce(ct,{treeNodeDragStart:({event:r,treeNode:m})=>{if(r.dataTransfer){if(Ne(t.allowDrag)&&!t.allowDrag(m.node))return r.preventDefault(),!1;r.dataTransfer.effectAllowed="move";try{r.dataTransfer.setData("text/plain","")}catch{}l.value.draggingNode=m,e.emit("node-drag-start",m.node,r)}},treeNodeDragOver:({event:r,treeNode:m})=>{if(!r.dataTransfer)return;const y=m,C=l.value.dropNode;C&&C.node.id!==y.node.id&&Se(C.$el,s.is("drop-inner"));const k=l.value.draggingNode;if(!k||!y)return;let b=!0,h=!0,K=!0,i=!0;Ne(t.allowDrop)&&(b=t.allowDrop(k.node,y.node,"prev"),i=h=t.allowDrop(k.node,y.node,"inner"),K=t.allowDrop(k.node,y.node,"next")),r.dataTransfer.dropEffect=h||b||K?"move":"none",(b||h||K)&&C?.node.id!==y.node.id&&(C&&e.emit("node-drag-leave",k.node,C.node,r),e.emit("node-drag-enter",k.node,y.node,r)),b||h||K?l.value.dropNode=y:l.value.dropNode=null,y.node.nextSibling===k.node&&(K=!1),y.node.previousSibling===k.node&&(b=!1),y.node.contains(k.node,!1)&&(h=!1),(k.node===y.node||k.node.contains(y.node))&&(b=!1,h=!1,K=!1);const L=y.$el,V=L.querySelector(`.${s.be("node","content")}`).getBoundingClientRect(),q=n.value.getBoundingClientRect();let O;const te=b?h?.25:K?.45:1:-1,ne=K?h?.75:b?.55:0:1;let v=-9999;const w=r.clientY-V.top;w<V.height*te?O="before":w>V.height*ne?O="after":h?O="inner":O="none";const B=L.querySelector(`.${s.be("node","expand-icon")}`).getBoundingClientRect(),U=a.value;O==="before"?v=B.top-q.top:O==="after"&&(v=B.bottom-q.top),U.style.top=`${v}px`,U.style.left=`${B.right-q.left}px`,O==="inner"?Kt(L,s.is("drop-inner")):Se(L,s.is("drop-inner")),l.value.showDropIndicator=O==="before"||O==="after",l.value.allowDrop=l.value.showDropIndicator||i,l.value.dropType=O,e.emit("node-drag-over",k.node,y.node,r)},treeNodeDragEnd:r=>{var m,y;const{draggingNode:C,dropType:k,dropNode:b}=l.value;if(r.preventDefault(),r.dataTransfer&&(r.dataTransfer.dropEffect="move"),C?.node.data&&b){const h={data:C.node.data};k!=="none"&&C.node.remove(),k==="before"?(m=b.node.parent)==null||m.insertBefore(h,b.node):k==="after"?(y=b.node.parent)==null||y.insertAfter(h,b.node):k==="inner"&&b.node.insertChild(h),k!=="none"&&(o.value.registerNode(h),o.value.key&&C.node.eachNode(K=>{var i;(i=o.value.nodesMap[K.data[o.value.key]])==null||i.setChecked(K.checked,!o.value.checkStrictly)})),Se(b.$el,s.is("drop-inner")),e.emit("node-drag-end",C.node,b.node,k,r),k!=="none"&&e.emit("node-drop",C.node,b.node,k,r)}C&&!b&&e.emit("node-drag-end",C.node,null,k,r),l.value.showDropIndicator=!1,l.value.draggingNode=null,l.value.dropNode=null,l.value.allowDrop=!0}}),{dragState:l}}const zn=Z({name:"ElTreeNode",components:{ElCollapseTransition:vn,ElCheckbox:Mt,NodeContent:Mn,ElIcon:Tt,Loading:St},props:{node:{type:X,default:()=>({})},props:{type:Object,default:()=>({})},accordion:Boolean,renderContent:Function,renderAfterExpand:Boolean,showCheckbox:Boolean},emits:["node-expand"],setup(t,e){const n=ee("tree"),{broadcastExpanded:a}=it(t),o=ae(Fe),s=I(!1),l=I(!1),u=I(),p=I(),f=I(),r=ae(ct),m=rt();ce(dt,m),t.node.expanded&&(s.value=!0,l.value=!0);const y=o.props.props.children||"children";j(()=>{var v;const w=(v=t.node.data)==null?void 0:v[y];return w&&[...w]},()=>{t.node.updateChildren()}),j(()=>t.node.indeterminate,v=>{b(t.node.checked,v)}),j(()=>t.node.checked,v=>{b(v,t.node.indeterminate)}),j(()=>t.node.childNodes.length,()=>t.node.reInitChecked()),j(()=>t.node.expanded,v=>{Ce(()=>s.value=v),v&&(l.value=!0)});const C=v=>Ue(o.props.nodeKey,v.data),k=v=>{const w=t.props.class;if(!w)return{};let B;if(Ne(w)){const{data:U}=v;B=w(U,v)}else B=w;return lt(B)?{[B]:!0}:B},b=(v,w)=>{(u.value!==v||p.value!==w)&&o.ctx.emit("check-change",t.node.data,v,w),u.value=v,p.value=w},h=v=>{Oe(o.store,o.ctx.emit,()=>{var w;if((w=o?.props)==null?void 0:w.nodeKey){const U=C(t.node);o.store.value.setCurrentNodeKey(U)}else o.store.value.setCurrentNode(t.node)}),o.currentNode.value=t.node,o.props.expandOnClickNode&&i(),(o.props.checkOnClickNode||t.node.isLeaf&&o.props.checkOnClickLeaf&&t.showCheckbox)&&!t.node.disabled&&L(!t.node.checked),o.ctx.emit("node-click",t.node.data,t.node,m,v)},K=v=>{var w;(w=o.instance.vnode.props)!=null&&w.onNodeContextmenu&&(v.stopPropagation(),v.preventDefault()),o.ctx.emit("node-contextmenu",v,t.node.data,t.node,m)},i=()=>{t.node.isLeaf||(s.value?(o.ctx.emit("node-collapse",t.node.data,t.node,m),t.node.collapse()):t.node.expand(()=>{e.emit("node-expand",t.node.data,t.node,m)}))},L=v=>{t.node.setChecked(v,!o?.props.checkStrictly),Ce(()=>{const w=o.store.value;o.ctx.emit("check",t.node.data,{checkedNodes:w.getCheckedNodes(),checkedKeys:w.getCheckedKeys(),halfCheckedNodes:w.getHalfCheckedNodes(),halfCheckedKeys:w.getHalfCheckedKeys()})})};return{ns:n,node$:f,tree:o,expanded:s,childNodeRendered:l,oldChecked:u,oldIndeterminate:p,getNodeKey:C,getNodeClass:k,handleSelectChange:b,handleClick:h,handleContextMenu:K,handleExpandIconClick:i,handleCheckChange:L,handleChildNodeExpand:(v,w,B)=>{a(w),o.ctx.emit("node-expand",v,w,B)},handleDragStart:v=>{o.props.draggable&&r.treeNodeDragStart({event:v,treeNode:t})},handleDragOver:v=>{v.preventDefault(),o.props.draggable&&r.treeNodeDragOver({event:v,treeNode:{$el:f.value,node:t.node}})},handleDrop:v=>{v.preventDefault()},handleDragEnd:v=>{o.props.draggable&&r.treeNodeDragEnd(v)},CaretRight:It}}});function Rn(t,e,n,a,o,s){const l=J("el-icon"),u=J("el-checkbox"),p=J("loading"),f=J("node-content"),r=J("el-tree-node"),m=J("el-collapse-transition");return Ae((_(),z("div",{ref:"node$",class:M([t.ns.b("node"),t.ns.is("expanded",t.expanded),t.ns.is("current",t.node.isCurrent),t.ns.is("hidden",!t.node.visible),t.ns.is("focusable",!t.node.disabled),t.ns.is("checked",!t.node.disabled&&t.node.checked),t.getNodeClass(t.node)]),role:"treeitem",tabindex:"-1","aria-expanded":t.expanded,"aria-disabled":t.node.disabled,"aria-checked":t.node.checked,draggable:t.tree.props.draggable,"data-key":t.getNodeKey(t.node),onClick:F(t.handleClick,["stop"]),onContextmenu:t.handleContextMenu,onDragstart:F(t.handleDragStart,["stop"]),onDragover:F(t.handleDragOver,["stop"]),onDragend:F(t.handleDragEnd,["stop"]),onDrop:F(t.handleDrop,["stop"])},[x("div",{class:M(t.ns.be("node","content")),style:ze({paddingLeft:(t.node.level-1)*t.tree.props.indent+"px"})},[t.tree.props.icon||t.CaretRight?(_(),R(l,{key:0,class:M([t.ns.be("node","expand-icon"),t.ns.is("leaf",t.node.isLeaf),{expanded:!t.node.isLeaf&&t.expanded}]),onClick:F(t.handleExpandIconClick,["stop"])},{default:S(()=>[(_(),R(st(t.tree.props.icon||t.CaretRight)))]),_:1},8,["class","onClick"])):P("v-if",!0),t.showCheckbox?(_(),R(u,{key:1,"model-value":t.node.checked,indeterminate:t.node.indeterminate,disabled:!!t.node.disabled,onClick:F(()=>{},["stop"]),onChange:t.handleCheckChange},null,8,["model-value","indeterminate","disabled","onClick","onChange"])):P("v-if",!0),t.node.loading?(_(),R(l,{key:2,class:M([t.ns.be("node","loading-icon"),t.ns.is("loading")])},{default:S(()=>[N(p)]),_:1},8,["class"])):P("v-if",!0),N(f,{node:t.node,"render-content":t.renderContent},null,8,["node","render-content"])],6),N(m,null,{default:S(()=>[!t.renderAfterExpand||t.childNodeRendered?Ae((_(),z("div",{key:0,class:M(t.ns.be("node","children")),role:"group","aria-expanded":t.expanded,onClick:F(()=>{},["stop"])},[(_(!0),z(Re,null,Ve(t.node.childNodes,y=>(_(),R(r,{key:t.getNodeKey(y),"render-content":t.renderContent,"render-after-expand":t.renderAfterExpand,"show-checkbox":t.showCheckbox,node:y,accordion:t.accordion,props:t.props,onNodeExpand:t.handleChildNodeExpand},null,8,["render-content","render-after-expand","show-checkbox","node","accordion","props","onNodeExpand"]))),128))],10,["aria-expanded","onClick"])),[[Be,t.expanded]]):P("v-if",!0)]),_:1})],42,["aria-expanded","aria-disabled","aria-checked","draggable","data-key","onClick","onContextmenu","onDragstart","onDragover","onDragend","onDrop"])),[[Be,t.node.visible]])}var Vn=ue(zn,[["render",Rn],["__file","tree-node.vue"]]);function Un({el$:t},e){const n=ee("tree");ot(()=>{s()}),at(()=>{Array.from(t.value.querySelectorAll("input[type=checkbox]")).forEach(u=>{u.setAttribute("tabindex","-1")})});function a(l,u){var p,f;const r=e.value.getNode(l[u].dataset.key);return r.canFocus&&r.visible&&(((p=r.parent)==null?void 0:p.expanded)||((f=r.parent)==null?void 0:f.level)===0)}_t(t,"keydown",l=>{const u=l.target;if(!u.className.includes(n.b("node")))return;const p=l.code,f=Array.from(t.value.querySelectorAll(`.${n.is("focusable")}[role=treeitem]`)),r=f.indexOf(u);let m;if([W.up,W.down].includes(p)){if(l.preventDefault(),p===W.up){m=r===-1?0:r!==0?r-1:f.length-1;const C=m;for(;!a(f,m);){if(m--,m===C){m=-1;break}m<0&&(m=f.length-1)}}else{m=r===-1?0:r<f.length-1?r+1:0;const C=m;for(;!a(f,m);){if(m++,m===C){m=-1;break}m>=f.length&&(m=0)}}m!==-1&&f[m].focus()}[W.left,W.right].includes(p)&&(l.preventDefault(),u.click());const y=u.querySelector('[type="checkbox"]');[W.enter,W.numpadEnter,W.space].includes(p)&&y&&(l.preventDefault(),y.click())});const s=()=>{var l;if(!t.value)return;const u=Array.from(t.value.querySelectorAll(`.${n.is("focusable")}[role=treeitem]`));Array.from(t.value.querySelectorAll("input[type=checkbox]")).forEach(r=>{r.setAttribute("tabindex","-1")});const f=t.value.querySelectorAll(`.${n.is("checked")}[role=treeitem]`);if(f.length){f[0].setAttribute("tabindex","0");return}(l=u[0])==null||l.setAttribute("tabindex","0")}}const Fn=Z({name:"ElTree",components:{ElTreeNode:Vn},props:{data:{type:ge(Array),default:()=>[]},emptyText:{type:String},renderAfterExpand:{type:Boolean,default:!0},nodeKey:String,checkStrictly:Boolean,defaultExpandAll:Boolean,expandOnClickNode:{type:Boolean,default:!0},checkOnClickNode:Boolean,checkOnClickLeaf:{type:Boolean,default:!0},checkDescendants:Boolean,autoExpandParent:{type:Boolean,default:!0},defaultCheckedKeys:Array,defaultExpandedKeys:Array,currentNodeKey:[String,Number],renderContent:{type:ge(Function)},showCheckbox:Boolean,draggable:Boolean,allowDrag:{type:ge(Function)},allowDrop:{type:ge(Function)},props:{type:Object,default:()=>({children:"children",label:"label",disabled:"disabled"})},lazy:Boolean,highlightCurrent:Boolean,load:Function,filterNodeMethod:Function,accordion:Boolean,indent:{type:Number,default:18},icon:{type:xt}},emits:["check-change","current-change","node-click","node-contextmenu","node-collapse","node-expand","check","node-drag-start","node-drag-end","node-drop","node-drag-leave","node-drag-enter","node-drag-over"],setup(t,e){const{t:n}=$t(),a=ee("tree"),o=ae(Ut,null),s=I(new On({key:t.nodeKey,data:t.data,lazy:t.lazy,props:t.props,load:t.load,currentNodeKey:t.currentNodeKey,checkStrictly:t.checkStrictly,checkDescendants:t.checkDescendants,defaultCheckedKeys:t.defaultCheckedKeys,defaultExpandedKeys:t.defaultExpandedKeys,autoExpandParent:t.autoExpandParent,defaultExpandAll:t.defaultExpandAll,filterNodeMethod:t.filterNodeMethod}));s.value.initialize();const l=I(s.value.root),u=I(null),p=I(null),f=I(null),{broadcastExpanded:r}=it(t),{dragState:m}=Pn({props:t,ctx:e,el$:p,dropIndicator$:f,store:s});Un({el$:p},s);const y=G(()=>{const{childNodes:c}=l.value,E=o?o.hasFilteredOptions!==0:!1;return(!c||c.length===0||c.every(({visible:d})=>!d))&&!E});j(()=>t.currentNodeKey,c=>{s.value.setCurrentNodeKey(c??null)}),j(()=>t.defaultCheckedKeys,(c,E)=>{Rt(c,E)||s.value.setDefaultCheckedKey(c??[])}),j(()=>t.defaultExpandedKeys,c=>{s.value.setDefaultExpandedKeys(c??[])}),j(()=>t.data,c=>{s.value.setData(c)},{deep:!0}),j(()=>t.checkStrictly,c=>{s.value.checkStrictly=c});const C=c=>{if(!t.filterNodeMethod)throw new Error("[Tree] filterNodeMethod is required when filter");s.value.filter(c)},k=c=>Ue(t.nodeKey,c.data),b=c=>{if(!t.nodeKey)throw new Error("[Tree] nodeKey is required in getNodePath");const E=s.value.getNode(c);if(!E)return[];const d=[E.data];let g=E.parent;for(;g&&g!==l.value;)d.push(g.data),g=g.parent;return d.reverse()},h=(c,E)=>s.value.getCheckedNodes(c,E),K=c=>s.value.getCheckedKeys(c),i=()=>{const c=s.value.getCurrentNode();return c?c.data:null},L=()=>{if(!t.nodeKey)throw new Error("[Tree] nodeKey is required in getCurrentKey");const c=i();return c?c[t.nodeKey]:null},V=(c,E)=>{if(!t.nodeKey)throw new Error("[Tree] nodeKey is required in setCheckedNodes");s.value.setCheckedNodes(c,E)},q=(c,E)=>{if(!t.nodeKey)throw new Error("[Tree] nodeKey is required in setCheckedKeys");s.value.setCheckedKeys(c,E)},O=(c,E,d)=>{s.value.setChecked(c,E,d)},te=()=>s.value.getHalfCheckedNodes(),ne=()=>s.value.getHalfCheckedKeys(),v=(c,E=!0)=>{if(!t.nodeKey)throw new Error("[Tree] nodeKey is required in setCurrentNode");Oe(s,e.emit,()=>{r(c),s.value.setUserCurrentNode(c,E)})},w=(c,E=!0)=>{if(!t.nodeKey)throw new Error("[Tree] nodeKey is required in setCurrentKey");Oe(s,e.emit,()=>{r(),s.value.setCurrentNodeKey(c??null,E)})},B=c=>s.value.getNode(c),U=c=>{s.value.remove(c)},ke=(c,E)=>{s.value.append(c,E)},be=(c,E)=>{s.value.insertBefore(c,E)},Ee=(c,E)=>{s.value.insertAfter(c,E)},we=(c,E,d)=>{r(E),e.emit("node-expand",c,E,d)},he=(c,E)=>{if(!t.nodeKey)throw new Error("[Tree] nodeKey is required in updateKeyChild");s.value.updateChildren(c,E)};return ce(Fe,{ctx:e,props:t,store:s,root:l,currentNode:u,instance:rt()}),ce(pn,void 0),{ns:a,store:s,root:l,currentNode:u,dragState:m,el$:p,dropIndicator$:f,isEmpty:y,filter:C,getNodeKey:k,getNodePath:b,getCheckedNodes:h,getCheckedKeys:K,getCurrentNode:i,getCurrentKey:L,setCheckedNodes:V,setCheckedKeys:q,setChecked:O,getHalfCheckedNodes:te,getHalfCheckedKeys:ne,setCurrentNode:v,setCurrentKey:w,t:n,getNode:B,remove:U,append:ke,insertBefore:be,insertAfter:Ee,handleNodeExpand:we,updateKeyChildren:he}}});function jn(t,e,n,a,o,s){const l=J("el-tree-node");return _(),z("div",{ref:"el$",class:M([t.ns.b(),t.ns.is("dragging",!!t.dragState.draggingNode),t.ns.is("drop-not-allow",!t.dragState.allowDrop),t.ns.is("drop-inner",t.dragState.dropType==="inner"),{[t.ns.m("highlight-current")]:t.highlightCurrent}]),role:"tree"},[(_(!0),z(Re,null,Ve(t.root.childNodes,u=>(_(),R(l,{key:t.getNodeKey(u),node:u,props:t.props,accordion:t.accordion,"render-after-expand":t.renderAfterExpand,"show-checkbox":t.showCheckbox,"render-content":t.renderContent,onNodeExpand:t.handleNodeExpand},null,8,["node","props","accordion","render-after-expand","show-checkbox","render-content","onNodeExpand"]))),128)),t.isEmpty?(_(),z("div",{key:0,class:M(t.ns.e("empty-block"))},[ie(t.$slots,"empty",{},()=>{var u;return[x("span",{class:M(t.ns.e("empty-text"))},$((u=t.emptyText)!=null?u:t.t("el.tree.emptyText")),3)]})],2)):P("v-if",!0),Ae(x("div",{ref:"dropIndicator$",class:M(t.ns.e("drop-indicator"))},null,2),[[Be,t.dragState.showDropIndicator]])],2)}var qn=ue(Fn,[["render",jn],["__file","tree.vue"]]);const Hn=Pe(qn),Wn={class:"perm-box"},Yn={class:"header-actions"},Jn={class:"role-name"},Gn={key:0},Qn={class:"description"},Xn={style:{"font-size":"18px"}},Zn={style:{"font-weight":"bold","margin-bottom":"2px"}},eo={style:{"font-weight":"bold","margin-top":"10px","margin-bottom":"2px"}},to={class:"dialog-box"},no={class:"dialog-input"},oo=Object.assign({name:"role"},{__name:"index",setup(t){const{domainList:e}=At(),{t:n,locale:a}=Bt(),o=Ot(),s=tn(),l=I(!1),u=ye([]),p=I([]),f=I({}),r=I(!1),m=I(!1),y=I(!0),C=I(null),k=I(null),b=I(200),h=I(!0),K=ye({title:"",type:""}),i=ye({name:null,description:null,banEmail:[],banEmailType:0,sendType:"count",sendCount:0,accountCount:0,sort:0,isDefault:0,availDomain:[]});let L=[];const V=I(!1);let q={};he(),nn().then(d=>{u.push(...d)}),L=e.map(d=>{const g=d.replace(/^@/,"");return{label:g,value:g}});function O(){const d=i.availDomain.findIndex(g=>!L.map(T=>T.value).includes(g));d>-1&&i.availDomain.splice(d,1)}function te(d){const g=Array.from(new Set(d.split(/[,ï¼Œ]/).map(T=>T.trim()).filter(T=>T)));i.banEmail.splice(i.banEmail.length-1,1),g.forEach(T=>{(cn(T)||un(T)||T==="*")&&!i.banEmail.includes(T)&&i.banEmail.push(T)})}function ne(){K.type==="add"?we():U()}function v(d){an(d.roleId).then(()=>{re({message:n("saveSuccessMsg"),type:"success",plain:!0}),c()})}function w(d){yn.confirm(n("delConfirm",{msg:d.name}),{confirmButtonText:n("confirm"),cancelButtonText:n("confirm"),type:"warning"}).then(()=>{sn(d.roleId).then(()=>{re({message:n("copySuccessMsg"),type:"success",plain:!0}),c(),o.refreshUserList(),s.refreshSelect()})})}function B(d){if(d){const g=f.value?.store.nodesMap;for(const T in g)g[T].expanded=!0}else{const g=f.value?.store.nodesMap;for(const T in g)g[T].expanded=!1}}function U(){if(!i.name){re({message:n("emptyRoleNameMsg"),type:"error",plain:!0});return}const d={...i,roleId:q.roleId},g=f.value.getCheckedKeys(),T=f.value.getHalfCheckedKeys();d.permIds=[...g,...T],r.value=!0,rn(d).then(()=>{re({message:n("saveSuccessMsg"),type:"success",plain:!0}),p.value.map(fe=>fe.name).includes(d.name)||s.refreshSelect(),l.value=!1,c()}).finally(()=>{r.value=!1})}function ke(){i.name=null,i.description=null,i.sort=0,i.sendType="count",i.sendCount=0,i.accountCount=0,i.banEmail=[],i.banEmailType=0,i.availDomain=[],f.value.setCheckedKeys([])}function be(d){q=d,K.title=n("changeRoleTitle"),K.type="set",l.value=!0,i.sort=d.sort,i.name=d.name,i.description=d.description,i.sendType=d.sendType,i.sendCount=d.sendCount,i.accountCount=d.accountCount,i.banEmail=d.banEmail,i.banEmailType=d.banEmailType,i.availDomain=d.availDomain,Ce(()=>{f.value.setCheckedKeys(d.permIds)})}function Ee(){K.title=n("addRoleTitle"),K.type="add",l.value=!0}function we(){const d={...i},g=f.value.getCheckedKeys(),T=f.value.getHalfCheckedKeys();d.permIds=[...g,...T],r.value=!0,ln(d).then(()=>{re({message:n("addSuccessMsg"),type:"success",plain:!0}),l.value=!1,c(),s.refreshSelect()}).finally(()=>{r.value=!1})}function he(){m.value=!0,p.length=0,c()}function c(){on().then(d=>{p.value=d}).finally(()=>{m.value=!1,setTimeout(()=>{h.value=!1},200)})}function E(){y.value=window.innerWidth>767,C.value=window.innerWidth<480?a.value==="en"?85:75:null,k.value=window.innerWidth<480?75:null,b.value=window.innerWidth<480?180:200}return E(),window.onresize=()=>{E()},(d,g)=>{const T=Qt,je=Vt,fe=mn,De=en,ut=Zt,ht=Xt,ft=Gt,pt=qt,mt=Tn,qe=gn,gt=Jt,He=Wt,We=Ht,pe=jt,Ye=Ft,Ke=Pt,Je=Yt,vt=Hn,yt=Lt;return _(),z("div",Wn,[x("div",Yn,[N(A(_e),{class:"icon",icon:"ion:add-outline",width:"23",height:"23",onClick:Ee}),N(A(_e),{class:"icon",icon:"ion:reload",width:"18",height:"18",onClick:he})]),N(pt,{class:"perm-scrollbar"},{default:S(()=>[x("div",{class:M(["loading",m.value?"loading-show":"loading-hide"]),style:ze(h.value?"background: transparent":"")},[N(dn)],6),N(ft,{data:p.value,style:{height:"100%"},"empty-text":""},{default:S(()=>[N(T,{width:"10"}),N(T,{label:d.$t("role"),prop:"name","min-width":b.value},{default:S(D=>[x("div",Jn,[x("span",null,$(D.row.name),1),D.row.isDefault?(_(),z("span",Gn,[N(je,{class:"def-tag"},{default:S(()=>[Y($(d.$t("default")),1)]),_:1})])):P("",!0)])]),_:1},8,["label","min-width"]),N(T,{label:d.$t("order"),width:k.value,prop:"sort"},null,8,["label","width"]),y.value?(_(),R(T,{key:0,label:d.$t("description"),"min-width":"200",prop:"description"},{default:S(D=>[x("div",Qn,[x("span",null,$(D.row.description),1)])]),_:1},8,["label"])):P("",!0),N(T,{label:d.$t("tabSetting"),width:C.value},{default:S(D=>[N(ht,{trigger:"click"},{dropdown:S(()=>[N(ut,null,{default:S(()=>[N(De,{onClick:se=>be(D.row)},{default:S(()=>[Y($(d.$t("change")),1)]),_:2},1032,["onClick"]),N(De,{onClick:se=>v(D.row)},{default:S(()=>[Y($(d.$t("default")),1)]),_:2},1032,["onClick"]),N(De,{onClick:se=>w(D.row)},{default:S(()=>[Y($(d.$t("delete")),1)]),_:2},1032,["onClick"])]),_:2},1024)]),default:S(()=>[N(fe,{size:"small",type:"primary"},{default:S(()=>[Y($(d.$t("action")),1)]),_:1})]),_:2},1024)]),_:1},8,["label","width"])]),_:1},8,["data"])]),_:1}),N(yt,{top:"5vh",class:"dialog",modelValue:l.value,"onUpdate:modelValue":g[12]||(g[12]=D=>l.value=D),onClosed:ke},{header:S(()=>[x("span",Xn,$(K.title),1),N(mt,{width:"340",title:A(n)("featDesc"),placement:"bottom"},{reference:S(()=>[N(A(_e),{class:"warning",icon:"fe:warning",width:"18",height:"18"})]),default:S(()=>[x("div",Zn,$(A(n)("emailInterception")),1),x("div",null,$(A(n)("emailInterceptionDesc")),1),x("div",eo,$(A(n)("availableDomains")),1),x("div",null,$(A(n)("availableDomainsDesc")),1)]),_:1},8,["title"])]),default:S(()=>[x("div",to,[N(qe,{class:"dialog-input",modelValue:i.name,"onUpdate:modelValue":g[0]||(g[0]=D=>i.name=D),type:"text",maxlength:12,placeholder:d.$t("roleName"),autocomplete:"off"},null,8,["modelValue","placeholder"]),N(qe,{class:"dialog-input",modelValue:i.description,"onUpdate:modelValue":g[1]||(g[1]=D=>i.description=D),maxlength:30,type:"text",placeholder:d.$t("description"),autocomplete:"off"},null,8,["modelValue","placeholder"]),N(gt,{class:M(["dialog-input-tag",i.banEmail.length===0?"dialog-input":""]),"tag-type":"warning",modelValue:i.banEmail,"onUpdate:modelValue":g[2]||(g[2]=D=>i.banEmail=D),onAddTag:te,type:"text",placeholder:d.$t("emailInterception"),autocomplete:"off"},null,8,["class","modelValue","placeholder"]),i.banEmail.length>0?(_(),R(We,{key:0,class:"dialog-radio",modelValue:i.banEmailType,"onUpdate:modelValue":g[3]||(g[3]=D=>i.banEmailType=D)},{default:S(()=>[N(He,{label:d.$t("removeAll"),value:0},null,8,["label"]),N(He,{label:d.$t("removeContent"),value:1},null,8,["label"])]),_:1},8,["modelValue"])):P("",!0),N(Ye,{class:"dialog-input",modelValue:i.availDomain,"onUpdate:modelValue":g[4]||(g[4]=D=>i.availDomain=D),multiple:"",filterable:"","allow-create":"","default-first-option":"","reserve-keyword":!1,"tag-type":"success",placeholder:d.$t("availableDomains"),onChange:O},{default:S(()=>[(_(!0),z(Re,null,Ve(A(L),D=>(_(),R(pe,{key:D.value,label:D.label,value:D.value},null,8,["label","value"]))),128))]),_:1},8,["modelValue","placeholder"]),x("div",no,[N(Ke,{placeholder:d.$t("order"),min:0,max:9999,modelValue:i.sort,"onUpdate:modelValue":g[5]||(g[5]=D=>i.sort=D),modelModifiers:{number:!0},"controls-position":"right",autocomplete:"off"},null,8,["placeholder","modelValue"])]),N(We,{modelValue:V.value,"onUpdate:modelValue":g[6]||(g[6]=D=>V.value=D),size:"small",onChange:B,class:"perm-expand"},{default:S(()=>[N(Je,{label:d.$t("expand"),value:!0},null,8,["label"]),N(Je,{label:d.$t("collapse"),value:!1},null,8,["label"])]),_:1},8,["modelValue"]),N(vt,{"expand-on-click-node":!1,"check-on-click-node":!1,ref_key:"tree",ref:f,data:u,"show-checkbox":"","node-key":"permId","default-expand-all":V.value,props:{label:"name"}},{default:S(({node:D,data:se})=>[x("div",null,[x("span",null,$(D.label),1),se.permKey==="email:send"?(_(),z("span",{key:0,class:"send-num",onClick:g[9]||(g[9]=F(()=>{},["stop"]))},[N(Ke,{modelValue:i.sendCount,"onUpdate:modelValue":g[7]||(g[7]=le=>i.sendCount=le),"controls-position":"right",min:0,max:99999,size:"small",placeholder:d.$t("total")},null,8,["modelValue","placeholder"]),N(Ye,{modelValue:i.sendType,"onUpdate:modelValue":g[8]||(g[8]=le=>i.sendType=le),placeholder:"Select",size:"small",style:{width:"65px","margin-left":"5px"}},{default:S(()=>[N(pe,{label:d.$t("total"),value:"count"},null,8,["label"]),N(pe,{label:d.$t("daily"),value:"day"},null,8,["label"]),N(pe,{label:d.$t("btnBan"),value:"ban"},null,8,["label"])]),_:1},8,["modelValue"])])):P("",!0),se.permKey==="account:add"?(_(),z("span",{key:1,class:"send-num",onClick:g[11]||(g[11]=F(()=>{},["stop"]))},[N(Ke,{modelValue:i.accountCount,"onUpdate:modelValue":g[10]||(g[10]=le=>i.accountCount=le),"controls-position":"right",min:0,max:99999,size:"small",placeholder:d.$t("total")},null,8,["modelValue","placeholder"])])):P("",!0)])]),_:1},8,["data","default-expand-all"]),N(fe,{class:"btn",type:"primary",loading:r.value,onClick:ne},{default:S(()=>[Y($(d.$t("save")),1)]),_:1},8,["loading"])])]),_:1},8,["modelValue"])])}}}),Bo=hn(oo,[["__scopeId","data-v-32615c3f"]]);export{Bo as default};

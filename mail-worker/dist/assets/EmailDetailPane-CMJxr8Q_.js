import{A as k,l as C,G as x,e as o,o as n,a7 as r,g as t,f as p,t as l,Q as M,af as B,q as D,h as L,cd as $,M as H}from"./index-92mnh-J5.js";/* empty css                  */import{E as T}from"./el-empty-CKfYwwv3.js";import{E as w}from"./el-skeleton-item-UTnpAQ6A.js";import{u as F}from"./email-9j19DGMK.js";import{i as P,e as S,h as V}from"./email-highlight-utils-Dx-h0BtP.js";import{a as Y}from"./clipboard-utils-Bf-9Um4a.js";import{d as j}from"./dayjs.min-BodJrPHb.js";import{_ as A}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{E as N}from"./index-CG9L6tLM.js";const I={class:"email-detail-pane"},q={key:0,class:"loading-container"},G={key:1,class:"empty-state"},K={key:2,class:"email-content"},Q={class:"email-header"},W={class:"header-actions"},J={class:"email-meta"},O={class:"email-subject"},R={class:"email-info"},U={class:"sender-info"},X={class:"value"},Z={class:"recipient-info"},z={class:"value"},tt={class:"time-info"},et={class:"value"},st={key:0,class:"attachment-info"},at={class:"value"},ot={class:"email-body"},nt={class:"content-wrapper"},lt=["innerHTML"],it={key:1,class:"no-content"},ct={key:0,class:"attachments-section"},rt={class:"attachment-list"},mt={class:"attachment-name"},dt={class:"attachment-size"},_t={__name:"EmailDetailPane",setup(ut){const d=F(),_=k(!1),a=C(()=>d.splitLayout?.selectedEmail),f=()=>{d.splitLayout&&(d.splitLayout.showDetailPane=!1,d.splitLayout.selectedEmail=null)},v=e=>e?j(e).format("YYYY-MM-DD HH:mm:ss"):"æœªçŸ¥æ—¶é—´",g=e=>e?e<1024?`${e} B`:e<1024*1024?`${(e/1024).toFixed(1)} KB`:`${(e/(1024*1024)).toFixed(1)} MB`:"æœªçŸ¥å¤§å°",E=e=>{if(!e)return"";const s=e.replace(/\n/g,"<br>").replace(/\t/g,"&nbsp;&nbsp;&nbsp;&nbsp;");return V(s,{highlightEmails:!0,highlightCodes:!0})},y=e=>{const s=e.target;if(P(s)){e.stopPropagation();const i=S(s),m=s.getAttribute("data-type")||s.closest(".email-highlight, .code-highlight")?.getAttribute("data-type");if(i){let c;m==="email"?c=`ğŸ“§ å·²å¤åˆ¶é‚®ç®±: ${i}`:m==="code"?c=`ğŸ” å·²å¤åˆ¶éªŒè¯ç : ${i}`:c=`ğŸ“‹ å·²å¤åˆ¶: ${i}`,Y(i,{successMessage:c,errorMessage:"âŒ å¤åˆ¶å¤±è´¥ï¼Œè¯·é‡è¯•",duration:3e3})}}};return x(a,e=>{e&&(_.value=!0,setTimeout(()=>{_.value=!1},300))},{immediate:!0}),(e,s)=>{const i=w,m=T,c=N,b=H;return n(),o("div",I,[_.value?(n(),o("div",q,[r(i,{rows:8,animated:""})])):a.value?(n(),o("div",K,[t("div",Q,[t("div",W,[r(c,{type:"text",icon:"Close",size:"small",onClick:f,class:"close-btn"})]),t("div",J,[t("h3",O,l(a.value.subject||"(æ— ä¸»é¢˜)"),1),t("div",R,[t("div",U,[s[0]||(s[0]=t("span",{class:"label"},"å‘ä»¶äººï¼š",-1)),t("span",X,l(a.value.fromEmail||a.value.userEmail),1)]),t("div",Z,[s[1]||(s[1]=t("span",{class:"label"},"æ”¶ä»¶äººï¼š",-1)),t("span",z,l(a.value.toEmail||"æœªçŸ¥"),1)]),t("div",tt,[s[2]||(s[2]=t("span",{class:"label"},"æ—¶é—´ï¼š",-1)),t("span",et,l(v(a.value.createTime)),1)]),a.value.attachments?.length?(n(),o("div",st,[s[3]||(s[3]=t("span",{class:"label"},"é™„ä»¶ï¼š",-1)),t("span",at,l(a.value.attachments.length)+" ä¸ªé™„ä»¶",1)])):p("",!0)])])]),t("div",ot,[t("div",nt,[a.value.content?(n(),o("div",{key:0,class:"email-text",innerHTML:E(a.value.content),onClick:y},null,8,lt)):(n(),o("div",it,[r(m,{description:"é‚®ä»¶å†…å®¹ä¸ºç©º"})]))])]),a.value.attachments?.length?(n(),o("div",ct,[t("h4",null,"é™„ä»¶ ("+l(a.value.attachments.length)+")",1),t("div",rt,[(n(!0),o(M,null,B(a.value.attachments,(u,h)=>(n(),o("div",{key:h,class:"attachment-item"},[r(b,null,{default:D(()=>[r(L($))]),_:1}),t("span",mt,l(u.name||`é™„ä»¶${h+1}`),1),t("span",dt,l(g(u.size)),1)]))),128))])])):p("",!0)])):(n(),o("div",G,[r(m,{description:"è¯·é€‰æ‹©ä¸€å°é‚®ä»¶æŸ¥çœ‹è¯¦æƒ…"})]))])}}},xt=A(_t,[["__scopeId","data-v-02873ddc"]]);export{xt as E};

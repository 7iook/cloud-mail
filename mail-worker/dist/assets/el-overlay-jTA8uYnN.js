import{b as ue,S as Ee,aJ as X,_ as de,a as V,bs as Ie,z as ae,l as d,e as Q,o as B,g as z,f as H,r as A,n as E,h as e,t as _e,a7 as U,q as I,p as x,aj as we,co as Se,M as Ae,j as ce,aG as De,d as se,I as Te,bU as ke,A as D,u as Be,cp as Pe,aE as Fe,V as $e,U as Le,G as W,J as Oe,R as ne,b8 as Re,a1 as Ne,k as Me,c as ze,T as Ue,s as te,O as Ve,bg as je,P as qe,H as Ge,w as Ke}from"./index-92mnh-J5.js";import{u as Je,b as Ze,a as Ye,c as Qe}from"./index-B-u1Rqw0.js";import{F as We,U as fe,h as Xe,b as He,c as xe}from"./vnode-DfneDD37.js";import{b as re,d as eo}from"./index-CG9L6tLM.js";const ve=Symbol("dialogInjectionKey"),ie="dialog-fade",ge=ue({center:Boolean,alignCenter:{type:Boolean,default:void 0},closeIcon:{type:Ee},draggable:{type:Boolean,default:void 0},overflow:{type:Boolean,default:void 0},fullscreen:Boolean,headerClass:String,bodyClass:String,footerClass:String,showClose:{type:Boolean,default:!0},title:{type:String,default:""},ariaLevel:{type:String,default:"2"}}),oo={close:()=>!0},lo=(...o)=>i=>{o.forEach(t=>{X(t)?t(i):t.value=i})},ao=V({name:"ElDialogContent"}),so=V({...ao,props:ge,emits:oo,setup(o,{expose:i}){const t=o,{t:O}=Ie(),{Close:u}=Se,{dialogRef:g,headerRef:_,bodyId:w,ns:n,style:c}=ae(ve),{focusTrapRef:b}=ae(We),p=lo(b,g),C=d(()=>!!t.draggable),v=d(()=>!!t.overflow),{resetPosition:y,updatePosition:T,isDragging:P}=Je(g,_,C,v),h=d(()=>[n.b(),n.is("fullscreen",t.fullscreen),n.is("draggable",C.value),n.is("dragging",P.value),n.is("align-center",!!t.alignCenter),{[n.m("center")]:t.center}]);return i({resetPosition:y,updatePosition:T}),(r,k)=>(B(),Q("div",{ref:e(p),class:E(e(h)),style:ce(e(c)),tabindex:"-1"},[z("header",{ref_key:"headerRef",ref:_,class:E([e(n).e("header"),r.headerClass,{"show-close":r.showClose}])},[A(r.$slots,"header",{},()=>[z("span",{role:"heading","aria-level":r.ariaLevel,class:E(e(n).e("title"))},_e(r.title),11,["aria-level"])]),r.showClose?(B(),Q("button",{key:0,"aria-label":e(O)("el.dialog.close"),class:E(e(n).e("headerbtn")),type:"button",onClick:F=>r.$emit("close")},[U(e(Ae),{class:E(e(n).e("close"))},{default:I(()=>[(B(),x(we(r.closeIcon||e(u))))]),_:1},8,["class"])],10,["aria-label","onClick"])):H("v-if",!0)],2),z("div",{id:e(w),class:E([e(n).e("body"),r.bodyClass])},[A(r.$slots,"default")],10,["id"]),r.$slots.footer?(B(),Q("footer",{key:0,class:E([e(n).e("footer"),r.footerClass])},[A(r.$slots,"footer")],2)):H("v-if",!0)],6))}});var no=de(so,[["__file","dialog-content.vue"]]);const to=ue({...ge,appendToBody:Boolean,appendTo:{type:Xe.to.type,default:"body"},beforeClose:{type:se(Function)},destroyOnClose:Boolean,closeOnClickModal:{type:Boolean,default:!0},closeOnPressEscape:{type:Boolean,default:!0},lockScroll:{type:Boolean,default:!0},modal:{type:Boolean,default:!0},modalPenetrable:Boolean,openDelay:{type:Number,default:0},closeDelay:{type:Number,default:0},top:{type:String},modelValue:Boolean,modalClass:String,headerClass:String,bodyClass:String,footerClass:String,width:{type:[String,Number]},zIndex:{type:Number},trapFocus:Boolean,headerAriaLevel:{type:String,default:"2"},transition:{type:se([String,Object]),default:void 0}}),ro={open:()=>!0,opened:()=>!0,close:()=>!0,closed:()=>!0,[fe]:o=>De(o),openAutoFocus:()=>!0,closeAutoFocus:()=>!0},io=(o,i)=>{var t;const u=Te().emit,{nextZIndex:g}=ke();let _="";const w=re(),n=re(),c=D(!1),b=D(!1),p=D(!1),C=D((t=o.zIndex)!=null?t:g());let v,y;const T=Be(),P=d(()=>{var l,s;return(s=(l=T.value)==null?void 0:l.namespace)!=null?s:Pe}),h=d(()=>{var l;return(l=T.value)==null?void 0:l.dialog}),r=d(()=>{const l={},s=`--${P.value}-dialog`;return o.fullscreen||(o.top&&(l[`${s}-margin-top`]=o.top),o.width&&(l[`${s}-width`]=Fe(o.width))),l}),k=d(()=>{var l,s,f;return((f=(s=o.draggable)!=null?s:(l=h.value)==null?void 0:l.draggable)!=null?f:!1)&&!o.fullscreen}),F=d(()=>{var l,s,f;return(f=(s=o.alignCenter)!=null?s:(l=h.value)==null?void 0:l.alignCenter)!=null?f:!1}),j=d(()=>{var l,s,f;return(f=(s=o.overflow)!=null?s:(l=h.value)==null?void 0:l.overflow)!=null?f:!1}),q=d(()=>F.value?{display:"flex"}:{}),G=d(()=>{var l,s,f;const Z=(f=(s=o.transition)!=null?s:(l=h.value)==null?void 0:l.transition)!=null?f:ie,Ce={name:Z,onAfterEnter:$,onBeforeLeave:L,onAfterLeave:S};if($e(Z)){const m={...Z},Y=(M,he)=>oe=>{Le(M)?M.forEach(le=>{X(le)&&le(oe)}):X(M)&&M(oe),he()};return m.onAfterEnter=Y(m.onAfterEnter,$),m.onBeforeLeave=Y(m.onBeforeLeave,L),m.onAfterLeave=Y(m.onAfterLeave,S),m.name||(m.name=ie),m}return Ce});function $(){u("opened")}function S(){u("closed"),u(fe,!1),o.destroyOnClose&&(p.value=!1)}function L(){u("close")}function K(){y?.(),v?.(),o.openDelay&&o.openDelay>0?{stop:v}=ne(()=>ee(),o.openDelay):ee()}function a(){v?.(),y?.(),o.closeDelay&&o.closeDelay>0?{stop:y}=ne(()=>J(),o.closeDelay):J()}function R(){function l(s){s||(b.value=!0,c.value=!1)}o.beforeClose?o.beforeClose(l):a()}function N(){o.closeOnClickModal&&R()}function ee(){Re&&(c.value=!0)}function J(){c.value=!1}function ye(){u("openAutoFocus")}function me(){u("closeAutoFocus")}function be(l){var s;((s=l.detail)==null?void 0:s.focusReason)==="pointer"&&l.preventDefault()}o.lockScroll&&Ze(c);function pe(){o.closeOnPressEscape&&R()}return W(()=>o.zIndex,()=>{var l;C.value=(l=o.zIndex)!=null?l:g()}),W(()=>o.modelValue,l=>{var s;l?(b.value=!1,K(),p.value=!0,C.value=(s=o.zIndex)!=null?s:g(),Ne(()=>{u("open"),i.value&&(i.value.parentElement.scrollTop=0,i.value.parentElement.scrollLeft=0,i.value.scrollTop=0)})):c.value&&a()}),W(()=>o.fullscreen,l=>{i.value&&(l?(_=i.value.style.transform,i.value.style.transform=""):i.value.style.transform=_)}),Oe(()=>{o.modelValue&&(c.value=!0,p.value=!0,K())}),{afterEnter:$,afterLeave:S,beforeLeave:L,handleClose:R,onModalClick:N,close:a,doClose:J,onOpenAutoFocus:ye,onCloseAutoFocus:me,onCloseRequested:pe,onFocusoutPrevented:be,titleId:w,bodyId:n,closed:b,style:r,overlayDialogStyle:q,rendered:p,visible:c,zIndex:C,transitionConfig:G,_draggable:k,_alignCenter:F,_overflow:j}},uo=V({name:"ElDialog",inheritAttrs:!1}),co=V({...uo,props:to,emits:ro,setup(o,{expose:i}){const t=o,O=Me();eo({scope:"el-dialog",from:"the title slot",replacement:"the header slot",version:"3.0.0",ref:"https://element-plus.org/en-US/component/dialog.html#slots"},d(()=>!!O.title));const u=ze("dialog"),g=D(),_=D(),w=D(),{visible:n,titleId:c,bodyId:b,style:p,overlayDialogStyle:C,rendered:v,transitionConfig:y,zIndex:T,_draggable:P,_alignCenter:h,_overflow:r,handleClose:k,onModalClick:F,onOpenAutoFocus:j,onCloseAutoFocus:q,onCloseRequested:G,onFocusoutPrevented:$}=io(t,g);Ge(ve,{dialogRef:g,headerRef:_,bodyId:b,ns:u,rendered:v,style:p});const S=Qe(F),L=d(()=>t.modalPenetrable&&!t.modal&&!t.fullscreen);return i({visible:n,dialogContentRef:w,resetPosition:()=>{var a;(a=w.value)==null||a.resetPosition()},handleClose:k}),(a,R)=>(B(),x(e(xe),{to:a.appendTo,disabled:a.appendTo!=="body"?!1:!a.appendToBody},{default:I(()=>[U(Ue,te(e(y),{persisted:""}),{default:I(()=>{var N;return[Ve(U(e(Ye),{"custom-mask-event":"",mask:a.modal,"overlay-class":[(N=a.modalClass)!=null?N:"",`${e(u).namespace.value}-modal-dialog`,e(u).is("penetrable",e(L))],"z-index":e(T)},{default:I(()=>[z("div",{role:"dialog","aria-modal":"true","aria-label":a.title||void 0,"aria-labelledby":a.title?void 0:e(c),"aria-describedby":e(b),class:E(`${e(u).namespace.value}-overlay-dialog`),style:ce(e(C)),onClick:e(S).onClick,onMousedown:e(S).onMousedown,onMouseup:e(S).onMouseup},[U(e(He),{loop:"",trapped:e(n),"focus-start-el":"container",onFocusAfterTrapped:e(j),onFocusAfterReleased:e(q),onFocusoutPrevented:e($),onReleaseRequested:e(G)},{default:I(()=>[e(v)?(B(),x(no,te({key:0,ref_key:"dialogContentRef",ref:w},a.$attrs,{center:a.center,"align-center":e(h),"close-icon":a.closeIcon,draggable:e(P),overflow:e(r),fullscreen:a.fullscreen,"header-class":a.headerClass,"body-class":a.bodyClass,"footer-class":a.footerClass,"show-close":a.showClose,title:a.title,"aria-level":a.headerAriaLevel,onClose:e(k)}),je({header:I(()=>[a.$slots.title?A(a.$slots,"title",{key:1}):A(a.$slots,"header",{key:0,close:e(k),titleId:e(c),titleClass:e(u).e("title")})]),default:I(()=>[A(a.$slots,"default")]),_:2},[a.$slots.footer?{name:"footer",fn:I(()=>[A(a.$slots,"footer")])}:void 0]),1040,["center","align-center","close-icon","draggable","overflow","fullscreen","header-class","body-class","footer-class","show-close","title","aria-level","onClose"])):H("v-if",!0)]),_:3},8,["trapped","onFocusAfterTrapped","onFocusAfterReleased","onFocusoutPrevented","onReleaseRequested"])],46,["aria-label","aria-labelledby","aria-describedby","onClick","onMousedown","onMouseup"])]),_:3},8,["mask","overlay-class","z-index"]),[[qe,e(n)]])]}),_:3},16)]),_:3},8,["to","disabled"]))}});var fo=de(co,[["__file","dialog.vue"]]);const bo=Ke(fo);export{bo as E,to as a,lo as c,ro as d,io as u};

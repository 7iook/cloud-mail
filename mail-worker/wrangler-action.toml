name = "cloud-mail"
main = "src/index.js"
compatibility_date = "2025-06-04"
keep_vars = true

[observability]
enabled = true

[[d1_databases]]
binding = "db"
database_name = "cloud-mail" # æ•°æ®åº“çš„åç§°
database_id = "${D1_DATABASE_ID}" # ä½¿ç”¨å ä½ç¬¦å¼•ç”¨ç¯å¢ƒå˜é‡?

[[kv_namespaces]]
binding = "kv"
id = "${KV_NAMESPACE_ID}" # ä½¿ç”¨å ä½ç¬¦å¼•ç”¨ç¯å¢ƒå˜é‡?

[[r2_buckets]]
binding = "r2"
bucket_name = "${R2_BUCKET_NAME}" # ä½¿ç”¨å ä½ç¬¦å¼•ç”¨ç¯å¢ƒå˜é‡?

[assets]
binding = "assets"		#é™æ€èµ„æºç»‘å®šåé»˜è®¤ä¸å¯ä¿®æ”¹
directory = "./dist"	#å‰ç«¯vueé¡¹ç›®æ‰“åŒ…çš„é™æ€èµ„æºå­˜æ”¾ä½ç½?é»˜è®¤dist
not_found_handling = "single-page-application"
run_worker_first = true

[triggers]
crons = ["0 16 * * *"]	#å®šæ—¶ä»»åŠ¡æ¯å¤©æ™šä¸Š12ç‚¹æ‰§è¡?

[vars]
orm_log = false
domain = "${DOMAIN}"
admin = "${ADMIN}"
jwt_secret = "${JWT_SECRET}"
# NOTE: These placeholders are replaced by GitHub Actions during deployment
# The GitHub Actions workflow will substitute these values from GitHub Secrets

[build]
command = "pnpm --prefix ../mail-vue install && pnpm --prefix ../mail-vue run build"

name = "cloud-mail"
main = "src/index.js"
compatibility_date = "2025-06-04"
keep_vars = true

# ä½¿ç”¨ Dashboard ç»‘å®šä¼˜å…ˆæ¨¡å¼
# KV å’?D1 ç»‘å®šå°†ä» Cloudflare Dashboard ä¸­è¯»å–ï¼Œä¸ä¼šè¢?wrangler.toml è¦†ç›–

[observability]
enabled = true

#[[d1_databases]]
#binding = "db"			#d1æ•°æ®åº“ç»‘å®šåé»˜è®¤ä¸å¯ä¿®æ”¹
#database_name = ""		#d1æ•°æ®åº“åå­?
#database_id = ""		#d1æ•°æ®åº“id

#[[kv_namespaces]]
#binding = "kv"			#kvç»‘å®šåé»˜è®¤ä¸å¯ä¿®æ”?
#id = ""					#kvæ•°æ®åº“id

# Rate Limiting é…ç½®ï¼ˆä»…é™åˆ¶æ¶æ„ç”¨æˆ·ï¼?
# å–æ¶ˆæ³¨é‡Šä»¥ä¸‹é…ç½®ä»¥å¯ç”¨é¢‘ç‡é™åˆ?
#[[ratelimits]]
#name = "STRICT_RATE_LIMITER"
#namespace_id = "1001"
#simple = { limit = 5, period = 1 }  # 1ç§’å†…æœ€å¤?æ¬?

#[[ratelimits]]
#name = "MODERATE_RATE_LIMITER"
#namespace_id = "1002"
#simple = { limit = 20, period = 10 }  # 10ç§’å†…æœ€å¤?0æ¬?

#[[ratelimits]]
#name = "LOOSE_RATE_LIMITER"
#namespace_id = "1003"
#simple = { limit = 60, period = 60 }  # 60ç§’å†…æœ€å¤?0æ¬?

#[[r2_buckets]]
#binding = "r2"			#r2å¯¹è±¡å­˜å‚¨ç»‘å®šåé»˜è®¤ä¸å¯ä¿®æ”?
#bucket_name = ""		#r2å¯¹è±¡å­˜å‚¨æ¡¶çš„åå­—

[assets]
binding = "assets"		#é™æ€èµ„æºç»‘å®šåé»˜è®¤ä¸å¯ä¿®æ”¹
directory = "./dist"	#å‰ç«¯vueé¡¹ç›®æ‰“åŒ…çš„é™æ€èµ„æºå­˜æ”¾ä½ç½?é»˜è®¤dist
not_found_handling = "single-page-application"
run_worker_first = true

[triggers]
crons = ["0 16 * * *"]	#å®šæ—¶ä»»åŠ¡æ¯å¤©æ™šä¸Š12ç‚¹æ‰§è¡?


[vars]
orm_log = false
# NOTE: domain, admin, and jwt_secret should be configured via Cloudflare Dashboard
# or set via GitHub Actions during deployment. They are NOT hardcoded here to prevent
# accidental exposure of production values and to allow Dashboard configuration to persist.
# For local development, use wrangler-dev.toml instead.

[build]
command = "pnpm --prefix ../mail-vue install && pnpm --prefix ../mail-vue run build"
